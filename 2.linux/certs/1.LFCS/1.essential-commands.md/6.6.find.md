# ğŸ” The `find` Command

> The Most Powerful File Search Tool in Linux

`find` searches for **files** and **directories** based on:

- name
- type
- size
- date
- permissions
- owner/group
- depth
- and even content (when combined with `grep`)

It is incredibly powerful for DevOps, scripting, SRE, and security tasks.

---

## ğŸ“Œ Basic Structure of `find`

```bash
find <path> <criteria> <action>
```

Examples:

```bash
find /home -name "*.txt"
find . -type f -size +1M
find /var -mtime -1 -exec rm -f {} \;
```

---

## ğŸŸ¦ 1. Find by Name

### ğŸ”¹ Exact match

```bash
find . -name "file.txt"
```

### ğŸ“¤ Output

```ini
./file.txt
```

---

### ğŸ”¹ Case-insensitive match

```bash
find . -iname "file.txt"
```

Matches: `file.txt`, `File.txt`, `FILE.TXT`

---

### ğŸ”¹ Wildcards (patterns)

```bash
find . -name "*.log"
```

Find all `.log` files under current directory.

---

## ğŸŸ© 2. Find by Type

Types include:

| Type | Meaning          |
| ---- | ---------------- |
| `f`  | file             |
| `d`  | directory        |
| `l`  | symbolic link    |
| `c`  | character device |
| `b`  | block device     |

---

### ğŸ”¹ Examples

#### Find all directories:

```bash
find . -type d
```

#### Find all files:

```bash
find . -type f
```

#### Find symbolic links:

```bash
find /usr -type l
```

---

## ğŸŸ§ 3. Find by Size

Units:

- `c` â†’ bytes
- `k` â†’ kilobytes
- `M` â†’ megabytes
- `G` â†’ gigabytes

Operators:

- `+` â†’ greater than
- `-` â†’ less than
- (no sign) â†’ exact

---

### ğŸ”¹ Examples

#### Files larger than 100 MB

```bash
find . -type f -size +100M
```

#### Files smaller than 10 KB

```bash
find . -type f -size -10k
```

#### Files exactly 1 GB

```bash
find . -type f -size 1G
```

---

## ğŸŸ¨ 4. Find by Time (mtime, atime, ctime)

| Option  | Meaning               |
| ------- | --------------------- |
| `mtime` | modified time         |
| `atime` | accessed time         |
| `ctime` | metadata changed time |

Format:

- `-1` â†’ less than 1 day
- `+7` â†’ more than 7 days
- `0` â†’ today

---

### ğŸ”¹ Examples

#### Modified within last 24 hours

```bash
find . -mtime -1
```

#### Modified more than 10 days ago

```bash
find . -mtime +10
```

#### Modified today

```bash
find . -mtime 0
```

---

## ğŸŸ¥ 5. Find by Owner or Group

### ğŸ”¹ Files owned by user `alex`

```bash
find /home -user alex
```

---

### ğŸ”¹ Files owned by group `devs`

```bash
find /home -group devs
```

---

### ğŸ”¹ Files NOT owned by root

```bash
find / -not -user root
```

---

## ğŸŸª 6. Find by Permission (`-perm`)

### ğŸ”¹ Find all world-writable files (dangerous!)

```bash
find / -type f -perm -002
```

### ğŸ”¹ Find all files with 777 permissions

```bash
find . -perm 777
```

### ğŸ”¹ Find files executable by owner

```bash
find . -perm -u=x
```

### ğŸ”¹ Group can write to, but others cannot read or write to it.

```bash
sudo find /var/log/ -perm -g=w ! -perm /o=rw > /home/bob/data.txt
```

Flags:

| Symbol        | Meaning              |
| ------------- | -------------------- |
| `-perm 644`   | exact match          |
| `-perm -644`  | at least these perms |
| `-perm /644`  | any of these perms   |
| `-perm +644`  | at most these perms  |
| `-perm 0`     | no perms             |
| `-perm -g=w`  | at least group write |
| `-perm /g=w`  | any group write      |
| `-perm +g=w`  | at most group write  |
| `-perm /o=rw` | any other read/write |

---

## ğŸŸ¦ Running Commands with `-exec`

This is the **most powerful part** of `find`.

Syntax:

```bash
-exec <command> {} \;
```

`{}` = matched file
`\;` = end of command (escaped)

---

### ğŸ”¹ Example: Delete all `.tmp` files

```bash
find . -name "*.tmp" -exec rm -f {} \;
```

---

### ğŸ”¹ Example: Show detailed info for each found file

```bash
find . -type f -exec ls -lh {} \;
```

---

### ğŸ”¹ Example: Search for .log files & open in editor

```bash
find /var/log -name "*.log" -exec nano {} \;
```

---

## ğŸŸ© Using `-exec` with `+` (more efficient)

Use `+` to execute command once per batch (instead of per file).

```bash
find . -name "*.log" -exec rm -f {} +
```

This is way faster for large sets.

---

## ğŸ§² Find and Grep Together (Search Inside Files)

### ğŸ”¹ Find all `.txt` files containing â€œERRORâ€

```bash
find . -name "*.txt" -exec grep -H "ERROR" {} \;
```

### Output example:

```text
./app/logs/output.txt: ERROR: unable to connect
```

---

## ğŸ§µ Depth Control: `-maxdepth`, `-mindepth`

### ğŸ”¹ Search only current directory (no subfolders)

```bash
find . -maxdepth 1 -name "*.txt"
```

---

### ğŸ”¹ Search only deeper directories

```bash
find . -mindepth 2 -name "*.txt"
```

---

## ğŸŸ¥ Delete with Find (`-delete`)

âš ï¸ VERY POWERFUL
No need for `rm -rf` inside `exec`.

### ğŸ”¹ Remove all `.bak` files

```bash
find . -name "*.bak" -delete
```

### ğŸ”¹ Remove empty directories

```bash
find . -type d -empty -delete
```

---

## ğŸ§  Examples

### âœ” Example: Find files modified in last hour

```bash
find /var/log -mmin -60
```

---

### âœ” Example: Find all empty files

```bash
find . -type f -empty
```

---

### âœ” Example: Find all directories named `node_modules`

```bash
find . -type d -name "node_modules"
```

To delete them:

```bash
find . -type d -name "node_modules" -exec rm -rf {} +
```

---

### âœ” Example: Find big files (100MB+)

```bash
find / -type f -size +100M -exec ls -lh {} \;
```

---

### âœ” Example: Find files with SUID permission

```bash
find / -type f -perm -4000
```

---

### ğŸ¯ Summary Table

| Task                  | Command                        |
| --------------------- | ------------------------------ |
| Find by name          | `find . -name "*.txt"`         |
| Case-insensitive name | `find . -iname "*.txt"`        |
| Find by type          | `find . -type f`               |
| Find by size          | `find . -size +1G`             |
| Find by time          | `find . -mtime -1`             |
| Find by owner         | `find . -user root`            |
| Find by group         | `find . -group devs`           |
| By permissions        | `find . -perm 755`             |
| Delete                | `find . -name "*.bak" -delete` |
| Execute command       | `find . -exec rm {} \;`        |
| Batch exec            | `find . -exec rm {} +`         |
