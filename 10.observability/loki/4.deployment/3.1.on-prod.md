# ðŸš€ Production Env

## ðŸ›’ **Requirement**

### ðŸ“Œ **Deployment Types**

- **Simple Scalable** (**SSD mode**)

### ðŸ“Œ **Replicas**

- **write:** 3 (stateful)
- **backend:** 2 (stateful)
- **read:** 2 (deployment)
- **gateway:** 2 (deployment)
- **canary:** 2 (deployment)

### ðŸ“Œ **Resources (requests â†’ limits)**

- **write pods (distributor+ingester):** `1 CPU, 4Gi` â†’ `2 CPU, 8Gi`
- **read pods (querier+frontend):** `1 CPU, 2Gi` â†’ `2 CPU, 4Gi`
- **backend pods (compactor+index-gw+sched):** `1 CPU, 3Gi` â†’ `2 CPU, 6Gi`

### ðŸ“Œ **Disks (Azure Standard SSD ZRS PVC)**

- **write PVC:** **30Gi** (E4) per replica
- **backend PVC:** **10Gi** (E2) per replica

**Worst-case disk pricing shortcut:**

- Use **â€œMax total price per monthâ€** for the disk tier Ã— number of disks
  (transactions will likely cap; this is the â€œnever exceedâ€ number).

---

### ðŸ“Œ **Blob Storage**

- tier: Hot
- 100 GB per day
- retention: 30 days
- replication: 3 zones
- features:
  - smart tiering

---

## ðŸ’° **Total Price** (Azure - UAE North - `$130`)

> [Azure Pricing Calculator](https://azure.microsoft.com/en-us/pricing/calculator/)

### ðŸ“Œ 1. Disks price (`$31.34`)

> [Azure Managed Disks pricing](https://azure.microsoft.com/en-us/pricing/details/managed-disks/)

1. 3 x $8.74 (E4) = $26.22
2. 2 x $2.56 (E2) = $5.12

### ðŸ“Œ 2. Object storage price (`$98.59`)

> [Azure Blob Storage pricing](https://azure.microsoft.com/en-us/pricing/details/storage/blobs/)

#### 1. Storage price (`$70.8`)

- 100 (GiB/day) x 30 (day) x $0.0236 (Hot ZRS) = $70.8

#### 2. Operations price (`$27.75`)

- 1 (write per second) x ((60 x 60 x 24 x 30) / 10,000) x $0.0812 (Write/ Hot / ZRS) = $21.2
- 2 (read per second) ((60 x 60 x 24 x 30) / 10,000) x $0.0063 (Read / Hot / ZRS) = $3.276
- 2 (other per second) ((60 x 60 x 24 x 30) / 10,000) x $0.0063 (Other / Hot /ZRS) = $3.276

#### 3. Data transfer price (`$0`)

- free for both retrieval and write for Hot tier

#### 4. Features price (`$0.04`)

- Smart Tier: $0.04

---

## ðŸ’° **Total Price** (AWS - UAE North - `$??`)

> [AWS Pricing Calculator](https://calculator.aws/#/)
