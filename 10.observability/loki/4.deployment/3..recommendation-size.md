# Recommendation Size/

## Production

### **Deployment Types**

- **Simple Scalable** (**SSD mode**)

### Requirement

#### **Replicas**

- **write:** 3 (stateful)
- **backend:** 2 (stateful)
- **read:** 2 (deployment)
- **gateway:** 2 (deployment)
- **canary:** 2 (deployment)

#### **Resources (requests → limits)**

- **write pods (distributor+ingester):** `1 CPU, 4Gi` → `2 CPU, 8Gi`
- **read pods (querier+frontend):** `1 CPU, 2Gi` → `2 CPU, 4Gi`
- **backend pods (compactor+index-gw+sched):** `1 CPU, 3Gi` → `2 CPU, 6Gi`

#### **Disks (Azure Standard SSD ZRS PVC)**

- **write PVC:** **30Gi** (E4) per replica
- **backend PVC:** **10Gi** (E2) per replica

**Worst-case disk pricing shortcut:**

- Use **“Max total price per month”** for the disk tier × number of disks
  (transactions will likely cap; this is the “never exceed” number).

---

#### **Blob Storage**

- tier: Hot
- 100 GB per day
- retention: 30 days
- replication: 3 zones
- features:
  - smart tiering

---

### **Total Price** (`$130`)

### Disks price (`$31.34`)

1. 3 x $8.74 (E4) = $26.22
2. 2 x $2.56 (E2) = $5.12

### Object storage price (`$98.59`)

#### 1. Storage price

- 100 (GiB/day) x 30 (day) x $0.0236 (Hot ZRS) = $70.8

#### 2. Operations price

- 1 (write per second) x ((60 x 60 x 24 x 30) / 10,000) x $0.0812 (Write/ Hot / ZRS) = $21.2
- 2 (read per second) ((60 x 60 x 24 x 30) / 10,000) x $0.0063 (Read / Hot / ZRS) = $3.276
- 2 (other per second) ((60 x 60 x 24 x 30) / 10,000) x $0.0063 (Other / Hot /ZRS) = $3.276

#### 3. Data transfer price

- free for both retrieval and write for Hot tier

#### 4. Features price

- Smart Tier: $0.04

---

## Dev / UAT / Non-prod

### **Deployment Types**

- **Simple Scalable** (**SSD mode**)

### Requirement

#### **Replicas**

- **write:** 1
- **read:** 1
- **backend:** 1
- **gateway:** 1 (or skip gateway if you accept non-HA)

#### **Resources (requests → limits)**

- **write:** `0.5 CPU, 2Gi` → `1 CPU, 4Gi`
- **read:** `0.5 CPU, 1Gi` → `1 CPU, 2Gi`
- **backend:** `0.5 CPU, 2Gi` → `1 CPU, 4Gi`

#### **Disks** (Azure Standard SSD LRS PVC)

- **write PVC:** **10Gi** (E3) per replica
- **backend PVC:** **5Gi** (E1) per replica

#### **Blob Storage**

- tier: Hot
- 10 GB per day
- retention: 15 days
- replication: 1 zones
- features:
  - smart tiering

### **Total Price**

### disks price (`$31.34`)

1. 3 x $8.74 (E4) = $26.22
2. 2 x $2.56 (E2) = $5.12

### Blob storage price (`$98.59`)

#### Storage price

- 100 (GiB/day) x 30 (day) x $0.0236 (Hot ZRS) = $70.8

#### Operations price

- 1 (write per second) x ((60 x 60 x 24 x 30) / 10,000) x $0.0812 (Write/ Hot / ZRS) = $21.2
- 2 (read per second) ((60 x 60 x 24 x 30) / 10,000) x $0.0063 (Read / Hot / ZRS) = $3.276
- 2 (other per second) ((60 x 60 x 24 x 30) / 10,000) x $0.0063 (Other / Hot /ZRS) = $3.276

#### data transfer price

- free for both retrieval and write for Hot tier

#### Features price

- Smart Tier: $0.04

---
