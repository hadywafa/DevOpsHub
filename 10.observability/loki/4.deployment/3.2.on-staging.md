# ðŸš€ Staging Env

## ðŸ›’ **Requirement**

### ðŸ“Œ **Deployment Types**

- **Simple Scalable** (**SSD mode**)

### ðŸ“Œ **Replicas**

- **write:** 1 (statefulset)
- **backend:** 1 (statefulset)
- **read:** 1 (deployment)
- **gateway:** 1 (deployment)
- **canary:** 1 (deployment)

### ðŸ“Œ **Resources (requests â†’ limits)**

- **write:** `0.5 CPU, 2Gi` â†’ `1 CPU, 4Gi`
- **read:** `0.5 CPU, 1Gi` â†’ `1 CPU, 2Gi`
- **backend:** `0.5 CPU, 2Gi` â†’ `1 CPU, 4Gi`

#### ðŸ“Œ **Disks** (Azure Standard SSD LRS PVC)

- **write PVC:** **10Gi** (E3) per replica
- **backend PVC:** **5Gi** (E1) per replica

#### ðŸ“Œ **Blob Storage**

- Log Rate 10 GB per day
- tier: Hot
- retention: 15 days
- replication: 1 zones
- features:
  - smart tiering

---

## ðŸ’° **Total Price** (Azure - UAE North - `$45.145`)

> [Azure Pricing Calculator](https://azure.microsoft.com/en-us/pricing/calculator/)

---

### ðŸ“Œ 1. Disks price (`$6.4`)

> [Azure Managed Disks pricing](https://azure.microsoft.com/en-us/pricing/details/managed-disks/)

1. 1 x $1.30 (E1) = $1.30
2. 1 x $5.09 (E3) = $5.09

### ðŸ“Œ 2. Object storage price (`$38.745`)

> [Azure Blob Storage pricing](https://azure.microsoft.com/en-us/pricing/details/storage/blobs/)

#### 1. Storage price (`$15.225`)

- 50 (GiB/day) x 15 (day) x $0.0203 (Hot LRS) = $15.225

#### 2. Operations price (`$23.48`)

- 1 (write per second) x ((60 x 60 x 24 x 30) / 10,000) x $0.078 (Write/ Hot / LRS) = $20.28
- 1 (read per second) ((60 x 60 x 24 x 30) / 10,000) x $0.0063 (Read / Hot / LRS) = $1.6
- 1 (other per second) ((60 x 60 x 24 x 30) / 10,000) x $0.0063 (Other / Hot / LRS) = $1.6

#### 3. Data transfer price (`$0`)

- free for both retrieval and write for Hot tier

#### 4. Features price (`$0.04`)

- Smart Tier: $0.04
