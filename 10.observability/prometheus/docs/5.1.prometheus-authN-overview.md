# ğŸ” **Prometheus Authentication Overview**

## ğŸ“– **What â€œAuthenticationâ€ Means in Prometheus**

In Prometheus, **authentication (AuthN)** isnâ€™t about users logging in â€” itâ€™s about **verifying identities between systems**.

Think of it this way:

> Prometheus rarely asks â€œwho are _you_ (user?)â€,
> but it often must prove â€œwho am _I_ (Prometheus?)â€ when scraping or sending data.

So we have **two directions**:

<div align="center" style="background-color: #141a19ff;color: #a8a5a5ff; border-radius: 10px; border: 2px solid">

| Direction         | Meaning                                       | Example                                            |
| ----------------- | --------------------------------------------- | -------------------------------------------------- |
| **Inbound Auth**  | Protecting access _to Prometheus itself_      | User opening the Prometheus web UI                 |
| **Outbound Auth** | Prometheus authenticating _to other services_ | Prometheus scraping an exporterâ€™s metrics endpoint |

>

</div>

---

## ğŸ’­ **Prometheus Philosophy**

By design, Prometheus is meant to run in **trusted, internal environments** â€” it doesnâ€™t have built-in login screens or RBAC.
Therefore:

- **Inbound authentication is optional**, done through **reverse proxies** (like Nginx, Traefik) or the `web.yml` file.
- **Outbound authentication is common**, done through the Prometheus configuration (`basic_auth`, `bearer_token_file`, `tls_config`).

So:  
ğŸ“Œ Prometheus trusts itself. You must protect it **from the outside** and **authenticate it when it calls others**.

---

## âš™ï¸ **Where Authentication Happens**

<div align="center" style="background-color: #141a19ff;color: #a8a5a5ff; border-radius: 10px; border: 2px solid">

| Component                              | Auth Direction | Method                                       |
| -------------------------------------- | -------------- | -------------------------------------------- |
| **Prometheus â†’ Exporter**              | Outbound       | Basic Auth / Bearer Token / TLS Client Certs |
| **Prometheus â†’ Alertmanager**          | Outbound       | Basic Auth / Bearer Token / mTLS             |
| **Prometheus â†’ Remote Write Endpoint** | Outbound       | Basic Auth / Bearer Token / TLS              |
| **User â†’ Prometheus Web UI**           | Inbound        | Handled externally (Proxy / `web.yml`)       |

</div>

---

## ğŸš€ **Simple Visualization**

<div align="center" style="background-color: #141a19ff;color: #a8a5a5ff; border-radius: 10px; border: 2px solid">

```mermaid
flowchart LR
A[User] -->|Login via Proxy| B[Prometheus Web UI]
B -->|Scrape Metrics| C[Exporter]
B -->|Send Alerts| D[Alertmanager]
B -->|Remote Write| E[Storage Endpoint]

C & D & E -->|Require Auth| B
```

</div>

---

## ğŸ **Summary Table**

<div align="center" style="background-color: #141a19ff;color: #a8a5a5ff; border-radius: 10px; border: 2px solid">

| Case                         | Who Authenticates                          | How                  | Goal                    |
| ---------------------------- | ------------------------------------------ | -------------------- | ----------------------- |
| User opening Prometheus UI   | Proxy handles user login                   | Basic / OAuth        | Protect web access      |
| Prometheus scraping exporter | Prometheus authenticates to target         | Basic, Token, or TLS | Access metrics securely |
| Prometheus sending alerts    | Prometheus authenticates to Alertmanager   | Basic, Token, or TLS | Send alerts securely    |
| Prometheus pushing data      | Prometheus authenticates to remote storage | Basic, Token, or TLS | Protect data integrity  |

</div>

---

## ğŸ—ï¸ **Key Takeaways**

- Prometheus itself doesnâ€™t manage users or sessions.
- Authentication mainly applies to **connections Prometheus makes to others**.
- To secure Prometheus UI/API, you need **external or web.yml-based auth**.
- TLS handles **encryption**; Basic/Bearer/mTLS handle **identity**.
