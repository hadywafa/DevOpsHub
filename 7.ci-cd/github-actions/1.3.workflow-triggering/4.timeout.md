# â±ï¸ **Timeouts in GitHub Actions Workflows**

## ðŸ“– What is a Timeout?

A **timeout** is a maximum duration allowed for an operation to complete. If the operation doesnâ€™t finish within that time, itâ€™s **terminated** or marked as **failed**.  
Timeouts prevent:

- Infinite waiting (e.g., stuck processes, hanging network calls)
- Resource exhaustion (e.g., jobs consuming CPU/memory indefinitely)
- Blocking downstream tasks (e.g., CI/CD pipelines waiting forever)

---

## ðŸ” **Where You Can Set Timeouts**

GitHub Actions supports timeouts at the **job level**.

> ðŸ’¡ Steps donâ€™t have a native timeout field, but you can enforce them manually.

### 1. **Job-Level Timeout**

- Use `timeout-minutes` inside a job.
- Applies to the **entire job** (all steps combined).
- Default: 360 minutes (6 hours).

```yaml
jobs:
  build:
    runs-on: ubuntu-latest
    timeout-minutes: 30
    steps:
      - uses: actions/checkout@v3
      - run: npm install
      - run: npm test
```

ðŸ‘‰ If the job exceeds 30 minutes, GitHub cancels it.

---

### 2. **Step-Level Timeout (Manual)**

GitHub doesnâ€™t provide `timeout-minutes` for steps. Instead, you enforce it with shell tools like `timeout` (Linux) or `Start-Job` (PowerShell).

```yaml
jobs:
  example:
    runs-on: ubuntu-latest
    steps:
      - name: Run script with timeout
        run: timeout 60s ./myscript.sh
```

ðŸ‘‰ This step will be killed after 60 seconds.

---

### 3. **Workflow-Level Timeout**

Thereâ€™s no direct workflow-wide timeout field. Instead:

- Control workflow duration by setting timeouts on **each job**.
- Break long pipelines into smaller jobs with explicit limits.

---

## ðŸ“Š Why Timeouts Matter

| Context                | Benefit                                               |
| ---------------------- | ----------------------------------------------------- |
| **CI/CD reliability**  | Prevents stuck builds/tests from blocking deployments |
| **Resource control**   | Avoids wasting runner minutes (important for billing) |
| **Fail-fast strategy** | Surfaces issues quickly instead of waiting hours      |
| **Onboarding clarity** | New engineers understand why jobs auto-cancel         |

---

## ðŸ§  Best Practices

- **Always set `timeout-minutes`** for critical jobs (build, test, deploy).
- **Use shorter timeouts** for quick checks (linting, unit tests).
- **Combine with retries**: Fail fast, retry safely.
- **Document defaults**: GitHub defaults to 6 hours â€” many teams donâ€™t realize this.

---

## ðŸ“„ Example: Multi-Job Workflow with Timeouts

```yaml
name: CI Pipeline

on: [push]

jobs:
  lint:
    runs-on: ubuntu-latest
    timeout-minutes: 10
    steps:
      - uses: actions/checkout@v3
      - run: npm run lint

  build:
    runs-on: ubuntu-latest
    timeout-minutes: 30
    needs: lint
    steps:
      - uses: actions/checkout@v3
      - run: npm install
      - run: npm run build

  test:
    runs-on: ubuntu-latest
    timeout-minutes: 20
    needs: build
    steps:
      - uses: actions/checkout@v3
      - run: npm test
```
