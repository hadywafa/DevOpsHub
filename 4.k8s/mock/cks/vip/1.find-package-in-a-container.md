# â“ CKS Failed Questions: Find Package in a Container

> _â€œA pod has multiple containers running Alpine. How do you find which packages are installed?
> (Sometimes the question adds: identify a vulnerable package, or check if a specific package is present.)â€_

This is **100% a CKS task** related to **runtime inspection & vulnerability hunting** inside containers.

Let me give you:

- âœ” The **exact exam question types**
- âœ” The **correct commands**
- âœ” The **reason behind each command**
- âœ” The **Alpine-specific caveat** (APK vs APT)
- âœ” Multi-container pod case
- âœ” Vulnerability-checking variation

---

## ğŸ§© **CKS Question Style: What They Really Ask**

These exam tasks usually look like:

### **Question Variant A â€” List Installed Packages**

> â€œInspect the container in pod `foo` and list all installed packages.â€

### **Question Variant B â€” Search for a Specific Package**

> â€œCheck if package `curl` is installed inside the container of pod `bar`.â€

### **Question Variant C â€” Pod Has Multiple Containers**

> â€œThe pod has two containers. Identify which container contains package `openssl`.â€

### **Question Variant D â€” Find Vulnerable Package**

> â€œFind the version of `busybox` installed and identify if it has a known CVE.â€

You must know **package manager commands** depending on OS:

- Alpine â†’ `apk`
- Debian/Ubuntu â†’ `dpkg`
- CentOS/RHEL â†’ `rpm`

---

## ğŸ¥‡ **2. Correct Answer (Alpine Container)**

Alpine uses **apk (Alpine Package Keeper)**, NOT apt or yum.

To list packages:

### âœ… **List all installed packages**

```bash
kubectl exec -n <namespace> <pod> -c <container> -- apk info -vv
```

You can also use:

```bash
apk info
```

### ğŸ” **Search for a specific package**

```bash
kubectl exec -n <ns> <pod> -c <container> -- apk info | grep <package>
```

Example:

```bash
kubectl exec demo-pod -c sidecar -- apk info | grep openssl
```

### ğŸ“Œ **Show package version**

```bash
kubectl exec <pod> -c <container> -- apk info -a <package>
```

Example:

```bash
kubectl exec demo-pod -c app -- apk info -a busybox
```

---

## ğŸ·ï¸ **3. Multi-Container Pod Case (Very Common CKS Question)**

If pod has containers:
`app`, `sidecar`, `logger`

You must specify `-c <container>`.

### List packages in each container:

```bash
kubectl exec podname -c app -- apk info
kubectl exec podname -c sidecar -- apk info
kubectl exec podname -c logger -- apk info
```

### Identify which container contains a specific package:

```bash
for c in app sidecar logger; do
  echo "=== $c ==="
  kubectl exec podname -c $c -- apk info 2>/dev/null | grep openssl
done
```

---

## ğŸ›¡ï¸ **4. Vulnerability-Checking Variant (CKS Real Question)**

They sometimes ask:

> â€œFind the vulnerable package version.â€

You do:

### Get package version:

```bash
kubectl exec <pod> -c <container> -- apk info -a openssl
```

Output example:

```ini
openssl-1.1.1k-r0
```

Then check CVEs (exam uses **Trivy** or **manual inspection**):

### Using Trivy (if installed inside env)

```bash
trivy image <image-name>
```

If not, question only wants you to **report the version**.

---

## ğŸ“¦ **5. What If the Container Is NOT Alpine?**

CKS expects you to quickly detect OS type:

### Debian/Ubuntu:

```bash
dpkg -l
dpkg -l | grep openssl
```

### RHEL/CentOS:

```bash
rpm -qa
rpm -qa | grep openssl
```

### BusyBox (Sometimes No Package Manager)

```bash
busybox
```

If no package manager exists â†’ **answer: cannot list packages**.

---

## â­ Final Short Answer (for the exact question you asked)

### **How to find packages installed in an Alpine container inside a multi-container pod?**

```bash
kubectl exec <pod> -c <container> -- apk info -vv
```

To search specific package:

```bash
kubectl exec <pod> -c <container> -- apk info | grep <package>
```

---

## ğŸ“˜ Want me to give you:

- ğŸ”¥ **10 REAL CKS RUNTIME SECURITY PRACTICE QUESTIONS**
- ğŸ”¥ **The official cheat-sheet for apk/dpkg/rpm lookup in the exam**
- ğŸ”¥ **A mock exam scenario where you must find vulnerable packages**
