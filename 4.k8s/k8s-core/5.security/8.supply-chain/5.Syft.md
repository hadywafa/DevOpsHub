# ğŸ“ **Syft â€” Comprehensive SBOM Generator for Containers & Code**

_*The Ultimate Guide (Definition â†’ Features â†’ Architecture â†’ Commands â†’ Examples â†’ CI/CD Integration)*_

---

## ğŸ§© **1. What Is Syft?**

**Syft** is an **open-source SBOM generator** created by **Anchore** that can analyze:

- Application **source code**
- **Container images**
- **Filesystem directories**
- **OCI registries**
- Virtual environments (Python, NodeJS, Go, Java, Rubyâ€¦)

Syft generates SBOMs in **SPDX**, **CycloneDX**, or its own **Syft JSON schema**.

> **Think of Syft as the scanner that â€œopens your container or codeâ€ and lists every component inside.**

It is one of the **most widely adopted SBOM tools** in DevSecOps.

---

## ğŸ¯ **2. Why Use Syft?**

Syft is chosen because it is:

### âœ” Fast

Saves time even for large images.

### âœ” Accurate

Detects OS packages + language libraries.

### âœ” Flexible

Works on source, images, and registries.

### âœ” DevSecOps-friendly

Perfect for CI/CD pipelines.

### âœ” Supports multiple output formats

SPDX JSON, SPDX Tag/Value, CycloneDX XML/JSON.

---

## ğŸ—ï¸ **3. What Syft Can Analyze**

| Target                | Example               | What Syft Extracts          |
| --------------------- | --------------------- | --------------------------- |
| **Container Image**   | `nginx:latest`        | OS packages, configs, libs  |
| **Directory**         | `.`                   | Python, Node, Go, Java deps |
| **Tar Archive**       | `myimage.tar`         | Packages inside the archive |
| **Git repo**          | `github.com/user/app` | Source deps                 |
| **Vulnerability DBs** | Integrates with Grype | Uses SBOM for scanning      |

---

## ğŸ› ï¸ **4. Key Features of Syft**

### â­ 4.1 Generate SBOMs (Core Function)

Supports:

- CycloneDX JSON
- CycloneDX XML
- SPDX JSON
- SPDX Tag
- Syft JSON schema

### â­ 4.2 Multi-language scanning

Detects:

- Python (`requirements.txt`, `pip freeze`)
- Java (`pom.xml`, JARs)
- NodeJS (`package.json`)
- Go modules
- Rust crates
- Ruby gems

### â­ 4.3 Scans Container Internals

Detects OS-level dependencies:

- APK (Alpine)
- APT (Debian/Ubuntu)
- RPM (CentOS/RHEL)
- MUSL & GLIBC libs

### â­ 4.4 OCI Registry Integration

You can directly generate SBOM from a remote registry:

```bash
syft registry/myimage:latest
```

### â­ 4.5 SBOM Signing (via Cosign)

Attach SBOM to container:

```bash
cosign attest --predicate sbom.json --key key.pem --type spdx myimage:latest
```

---

## ğŸš€ **5. Syft Installation**

### Install via Script:

```bash
curl -sSfL https://raw.githubusercontent.com/anchore/syft/main/install.sh | sh -s -- -b /usr/local/bin
```

### Install via Brew (macOS/Linux):

```bash
brew install syft
```

---

## ğŸ“¦ **6. Generating SBOMs (Most Important Commands)**

---

### **6.1 Generate SBOM for Local Directory (Source SBOM)**

```bash
syft . -o cyclonedx-json > sbom-source.json
```

- âœ” Scans Node, Python, Java, Go, Ruby projects
- âœ” No need for container image

---

### **6.2 Generate SBOM for Docker Image (Image SBOM)**

```bash
syft myapp:latest -o cyclonedx-json > sbom-image.json
```

This scans:

- OS packages
- Framework dependencies
- Binaries
- Configs

---

### **6.3 Generate SPDX (Enterprise Format)**

```bash
syft myapp:1.0 -o spdx-json > sbom-spdx.json
```

---

### **6.4 Generate SBOM and Show in Terminal (Quick Mode)**

```bash
syft myapp:latest
```

---

### **6.5 Generate Syft Native JSON Format**

```bash
syft myapp:latest -o json > sbom.json
```

---

## ğŸ§ª **7. Practical Example (Real World)**

Letâ€™s say you have this project:

```ini
payment-service/
â”œâ”€â”€ app.py
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ Dockerfile
â””â”€â”€ utils/
```

### **A. Source SBOM**

```bash
syft payment-service/ -o cyclonedx-json > sbom-source.json
```

### **B. Build the Docker image**

```bash
docker build -t payment-service:1.0 .
```

### **C. Generate Image SBOM**

```bash
syft payment-service:1.0 -o spdx-json > sbom-image.json
```

### **D. Sign and Upload SBOM**

```bash
cosign attest --predicate sbom-image.json --type spdx payment-service:1.0
```

---

## ğŸ›ï¸ 8. Syft Architecture (How It Works Internally)

```mermaid
flowchart TD
    A[Target Source <br/> (Directory / Image / Registry)] --> B[Cataloger <br/> Language & OS Package Detectors]
    B --> C[Normalize Components]
    C --> D[Build Dependency Graph]
    D --> E[SBOM Formatter <br/> SPDX / CycloneDX / JSON]
    E --> F[Output File]
```

### Explanation:

1. **Detects target type**
2. **Cataloger** reads:

   - OS package db
   - Language dependency files
   - File hashes

3. **Builds dependency tree**
4. **Generates SBOM format of your choice**
5. **Outputs file or terminal**

---

## ğŸ”„ 9. Syft + Grype (Best Combo)

Syft = SBOM generator
Grype = Vulnerability scanner **based on SBOM**

### Create SBOM + Scan:

```bash
syft myapp:latest -o json > sbom.json
grype sbom:sbom.json
```

Grype uses NVD + GitHub advisories.

---

## ğŸ” 10. Syft in CI/CD (DevSecOps Best Practice)

---

### **GitHub Actions Example**

```yaml
name: Generate SBOM

on: push

jobs:
  syft:
    runs-on: ubuntu-latest
    steps:
      - uses: anchore/sbom-action@v0
        with:
          image: myapp:latest
          format: cyclonedx-json
          output-file: sbom.json
```

---

### **GitLab CI Example**

```yaml
sbom:
  stage: security
  script:
    - syft . -o cyclonedx-json > sbom.json
  artifacts:
    paths:
      - sbom.json
```

---

## ğŸ§  11. When to Use Syft (Correct Use Cases)

| Use Case                        | Why Syft Helps              |
| ------------------------------- | --------------------------- |
| Pre-build dependency scanning   | Generate source SBOM        |
| Post-build image scanning       | Generate image SBOM         |
| License compliance              | Lists all licenses          |
| Vulnerability scanning w/ Grype | Uses SBOM for fast scanning |
| Supply chain signing            | Pairs with Cosign           |
| SBOM storage for auditors       | Standard formats            |

---

## ğŸ **12. Final Summary**

### Syft is the **gold-standard open-source SBOM generator** that gives you:

- Transparency into code + containers
- Accurate inventory of all dependencies
- Full support for SPDX & CycloneDX
- Integration with Grype for CVEs
- Perfect for CI/CD pipelines
- Essential for supply chain security

If you're working on DevSecOps, Kubernetes, or cloud-native applications â€” **Syft is mandatory.**

---

If you want, I can also create:

ğŸ”¥ **Syft vs Trivy comparison**
ğŸ”¥ **SBOM + SLSA full workflow**
ğŸ”¥ **Complete DevSecOps pipeline with Syft & Grype**

Just tell me!
