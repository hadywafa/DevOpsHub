# üõ†Ô∏è **Hands-on Tutorial: Debugging AWS SAM Applications in VS Code**

This tutorial will guide you step-by-step on **how to debug AWS SAM applications** using **Python, Node.js (TypeScript), and .NET** in **VS Code** with **AWS Toolkit**.

## üìå **Table of Contents**

1Ô∏è‚É£ [Prerequisites](#prerequisites)  
2Ô∏è‚É£ [Setting Up a Python AWS SAM Application](#setting-up-a-python-aws-sam-application)  
3Ô∏è‚É£ [Debugging Python AWS SAM in VS Code](#debugging-python-aws-sam-in-vs-code)  
4Ô∏è‚É£ [Setting Up a Node.js (TypeScript) AWS SAM Application](#setting-up-a-nodejs-typescript-aws-sam-application)  
5Ô∏è‚É£ [Debugging Node.js AWS SAM in VS Code](#debugging-nodejs-aws-sam-in-vs-code)  
6Ô∏è‚É£ [Setting Up a .NET AWS SAM Application](#setting-up-a-net-aws-sam-application)  
7Ô∏è‚É£ [Debugging .NET AWS SAM in VS Code](#debugging-net-aws-sam-in-vs-code)  
8Ô∏è‚É£ [Final Thoughts](#final-thoughts)

---

## ‚úÖ **Prerequisites**

Before starting, make sure you have the following installed:

- **AWS SAM CLI** (`sam --version`)
- **AWS Toolkit for VS Code**
- **Docker** (For local AWS Lambda simulation)
- **AWS CLI** (`aws configure`)
- **Programming Language Dependencies**:
  - Python: `pip install`
  - Node.js (TypeScript): `npm install`
  - .NET: `.NET Core SDK`

---

## üêç **Setting Up a Python AWS SAM Application**

### ‚úÖ **Step 1: Create a New Python AWS SAM Project**

```bash
sam init
```

- **Select** ‚Üí `1 - AWS Quick Start Templates`
- **Select Runtime** ‚Üí `python3.8`
- **Project Name** ‚Üí `sam-python-app`

### ‚úÖ **Step 2: Navigate into the project**

```bash
cd sam-python-app
```

### ‚úÖ **Step 3: Install Dependencies**

```bash
pip install -r hello_world/requirements.txt
```

---

## üêû **Debugging Python AWS SAM in VS Code**

### ‚úÖ **Step 1: Open VS Code and Add Debug Configuration**

- **Open VS Code**
- Press `Ctrl + Shift + P` and search **"AWS: Add Debug Configuration"**
- Select **your Python function** (`HelloWorldFunction`)

### ‚úÖ **Step 2: Debug Configuration (`.vscode/launch.json`)**

```json
{
  "version": "0.2.0",
  "configurations": [
    {
      "type": "aws-sam",
      "request": "direct-invoke",
      "name": "Python AWS SAM Debugging",
      "invokeTarget": {
        "target": "function",
        "templatePath": "${workspaceFolder}/template.yaml",
        "logicalId": "HelloWorldFunction"
      },
      "lambda": {
        "payload": {
          "json": {}
        }
      }
    }
  ]
}
```

### ‚úÖ **Step 3: Run Debugging**

1. Set a **breakpoint** inside `hello_world/app.py`
2. Open the **Run & Debug panel (`Ctrl + Shift + D`)**
3. Select `"Python AWS SAM Debugging"`
4. Click **Start Debugging** ‚ñ∂Ô∏è
5. **Execution stops at the breakpoint** allowing you to inspect variables!

---

## üü¢ **Setting Up a Node.js (TypeScript) AWS SAM Application**

### ‚úÖ **Step 1: Create a New Node.js AWS SAM Project**

```bash
sam init
```

- **Select** ‚Üí `1 - AWS Quick Start Templates`
- **Select Runtime** ‚Üí `nodejs18.x`
- **Project Name** ‚Üí `sam-nodejs-app`

### ‚úÖ **Step 2: Install TypeScript & Dependencies**

```bash
cd sam-nodejs-app
npm install
npm install -g typescript ts-node
```

### ‚úÖ **Step 3: Convert to TypeScript**

Rename `app.js` to `app.ts` and update the handler:

```typescript
export const lambdaHandler = async (event: any) => {
  console.log("Received event:", event);
  return {
    statusCode: 200,
    body: JSON.stringify({ message: "Hello from TypeScript!" }),
  };
};
```

---

## üêû **Debugging Node.js AWS SAM in VS Code**

### ‚úÖ **Step 1: Add Debug Configuration**

- Open **VS Code**
- Press `Ctrl + Shift + P` and search **"AWS: Add Debug Configuration"**
- Select **your Node.js function** (`HelloWorldFunction`)

### ‚úÖ **Step 2: Debug Configuration (`.vscode/launch.json`)**

```json
{
  "version": "0.2.0",
  "configurations": [
    {
      "type": "aws-sam",
      "request": "direct-invoke",
      "name": "Node.js AWS SAM Debugging",
      "invokeTarget": {
        "target": "function",
        "templatePath": "${workspaceFolder}/template.yaml",
        "logicalId": "HelloWorldFunction"
      },
      "lambda": {
        "payload": {
          "json": {}
        }
      }
    }
  ]
}
```

### ‚úÖ **Step 3: Run Debugging**

1. Set a **breakpoint** inside `app.ts`
2. Open the **Run & Debug panel**
3. Select `"Node.js AWS SAM Debugging"`
4. Click **Start Debugging** ‚ñ∂Ô∏è
5. Inspect variables, logs, and step through execution!

---

## üîµ **Setting Up a .NET AWS SAM Application**

### ‚úÖ **Step 1: Create a New .NET AWS SAM Project**

```bash
sam init
```

- **Select** ‚Üí `1 - AWS Quick Start Templates`
- **Select Runtime** ‚Üí `dotnet6`
- **Project Name** ‚Üí `sam-dotnet-app`

### ‚úÖ **Step 2: Navigate into the Project**

```bash
cd sam-dotnet-app
dotnet restore
```

### ‚úÖ **Step 3: Update the Handler in `Function.cs`**

Modify the function:

```csharp
using System;
using System.Collections.Generic;
using Amazon.Lambda.Core;

[assembly: LambdaSerializer(typeof(Amazon.Lambda.Serialization.SystemTextJson.DefaultLambdaJsonSerializer))]

namespace HelloWorld
{
    public class Function
    {
        public string FunctionHandler(Dictionary<string, string> input, ILambdaContext context)
        {
            context.Logger.LogLine("Hello from .NET AWS SAM!");
            return "Hello World";
        }
    }
}
```

---

## üêû **Debugging .NET AWS SAM in VS Code**

### ‚úÖ **Step 1: Add Debug Configuration**

- Open **VS Code**
- Press `Ctrl + Shift + P` and search **"AWS: Add Debug Configuration"**
- Select **your .NET function** (`HelloWorldFunction`)

### ‚úÖ **Step 2: Debug Configuration (`.vscode/launch.json`)**

```json
{
  "version": "0.2.0",
  "configurations": [
    {
      "type": "aws-sam",
      "request": "direct-invoke",
      "name": ".NET AWS SAM Debugging",
      "invokeTarget": {
        "target": "function",
        "templatePath": "${workspaceFolder}/template.yaml",
        "logicalId": "HelloWorldFunction"
      },
      "lambda": {
        "payload": {
          "json": {}
        }
      }
    }
  ]
}
```

### ‚úÖ **Step 3: Run Debugging**

1. Set a **breakpoint** inside `Function.cs`
2. Open the **Run & Debug panel**
3. Select `".NET AWS SAM Debugging"`
4. Click **Start Debugging** ‚ñ∂Ô∏è
5. Execution pauses at breakpoints!

---

## üöÄ **Final Thoughts**

‚úÖ **AWS Toolkit automates debugging for Python, Node.js (TypeScript), and .NET AWS SAM apps**  
‚úÖ **VS Code handles breakpoints, variable inspection, and logging seamlessly**  
‚úÖ **Works with `sam local invoke` or `sam local start-api`**

Would you like a **real-world AWS SAM project tutorial** next? üöÄüòä
