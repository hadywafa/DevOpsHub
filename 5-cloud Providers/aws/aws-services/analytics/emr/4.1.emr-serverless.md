# â˜ï¸ğŸ§  **Amazon EMR Serverless**

**The Simplest Way to Run Big Data Applications without Managing Clusters!**

![emr-serverless](images/emr-serverless.png)

---

## ğŸ§¾ What Is Amazon EMR Serverless?

> **Amazon EMR Serverless** is a **serverless deployment option** in Amazon EMR that makes it easy to run **big data applications** without configuring, managing, or scaling clusters manually.

You just **submit your Spark or Hive jobs**, and EMR Serverless does the rest:

- âœ… Automatically provisions resources
- âœ… Automatically scales in/out
- âœ… Only charges for what you use
- âœ… No cluster setup required!

---

## ğŸ’¡ Why Serverless for Big Data?

Running Apache Spark or Hive often means:

- Choosing EC2 instances
- Managing cluster configurations
- Worrying about idle resources

**EMR Serverless changes the game** by making this all disappear â€” you simply define **your job**, and AWS runs it **on-demand**.

---

## âš™ï¸ Supported Frameworks

| Framework          | Supported  |
| ------------------ | ---------- |
| ğŸŸ¨ Apache Spark    | âœ… Yes     |
| ğŸ Apache Hive     | âœ… Yes     |
| ğŸ“… Others (coming) | ğŸš§ Not yet |

---

## ğŸ—ï¸ Architecture Overview

```mermaid
flowchart TD
  A[Submit Job] --> B[EMR Serverless Application]
  B --> C{Job Manager}
  C --> D1[Auto-Provision Resources]
  C --> D2[Run Spark/Hive Job]
  D2 --> E[Store Output in S3 / Glue / Redshift]
```

---

## âš™ï¸ How It Works

1. **Create EMR Serverless Application**
   - Define the framework (e.g., Spark)
2. **Submit Job**
   - Provide script (e.g., Python/SQL) & input/output
3. **EMR Serverless Provisions Resources**
   - Just the right amount of vCPUs & memory
4. **Job Runs**
   - EMR handles retries, scaling, and fault tolerance
5. **Results Saved**
   - To S3, Glue, Redshift, etc.

---

## ğŸš€ Features & Benefits

| Feature                      | Description                                                   |
| ---------------------------- | ------------------------------------------------------------- |
| ğŸ”„ **Auto Scaling**          | Automatically scales based on job size & demand               |
| ğŸ’¸ **Pay-as-you-go**         | You only pay for **vCPU-seconds** and **memory-seconds** used |
| â˜ï¸ **No Cluster Management** | No EC2, no instance sizing, no cluster lifespan headaches     |
| ğŸ“ˆ **High Availability**     | Built-in fault tolerance and retry logic                      |
| ğŸ” **Secure**                | Runs in your VPC with IAM-based access controls               |

---

## ğŸ“ Storage & Data Sources

| Data Source                  | Integration           |
| ---------------------------- | --------------------- |
| ğŸª£ **Amazon S3**              | âœ… Fully Supported    |
| ğŸ“˜ **AWS Glue Data Catalog** | âœ… For Hive Metastore |
| ğŸ§® **Amazon Redshift**       | âœ… Via connectors     |
| ğŸ”— **Custom JDBC / APIs**    | ğŸ› ï¸ With Spark         |

---

## ğŸ› ï¸ How to Set It Up

### ğŸ›ï¸ Step 1: Create EMR Serverless Application

```bash
aws emr-serverless create-application \
  --name "MySparkApp" \
  --type SPARK \
  --release-label emr-6.9.0
```

### ğŸ“¥ Step 2: Submit a Job

```bash
aws emr-serverless start-job-run \
  --application-id <app-id> \
  --execution-role-arn <role> \
  --job-driver '{
      "sparkSubmit": {
        "entryPoint": "s3://my-bucket/scripts/my-script.py"
      }
  }' \
  --configuration-overrides '{
    "monitoringConfiguration": {
      "s3MonitoringConfiguration": {
        "logUri": "s3://my-bucket/logs/"
      }
    }
  }'
```

### ğŸ“Š Step 3: Monitor Job

Check logs in **S3** or use the **EMR console** for real-time job status, metrics, and failures.

---

## ğŸ§ª Example Use Case: Spark ETL Job

Imagine a Python script that:

1. Reads CSV files from `s3://sales-raw/`
2. Cleans and filters the data
3. Writes to `s3://sales-cleaned/`

You don't have to spin up clusters, just submit and let EMR Serverless scale for you! Perfect for:

- ğŸ” Recurring jobs
- ğŸ§ª A/B experiments
- ğŸ§¹ Data cleaning pipelines

---

## AWS EMR Serverless Workshop

### [Getting started with Amazon EMR Serverless](https://docs.aws.amazon.com/emr/latest/EMR-Serverless-UserGuide/getting-started.html)

## ğŸ’¸text Pricing

You pay based on:

- **vCPU-seconds**
- **Memory-seconds**
- **Storage-seconds** (for intermediate shuffle)

Example:

- Run a Spark job that takes 5 minutes with 4 vCPUs and 8 GB RAM
- Youâ€™re billed **only for those 5 minutes** of compute and memory

ğŸ“ No charges for idle time!

---

## ğŸ“š When to Use EMR Serverless

âœ… Use it when:

- You have **spiky or unpredictable workloads**
- You want to **run jobs on demand**
- You donâ€™t want to manage EC2 clusters

ğŸš« Avoid if:

- You need custom configurations or rare frameworks
- You require a **persistent cluster**

---

## ğŸ§  Summary

> **Amazon EMR Serverless** lets you run Spark and Hive without managing infrastructure. Itâ€™s the ultimate "just run my job" solution for big data.

### TL;DR

- âš™ï¸ Submit code
- â˜ï¸ AWS runs it
- ğŸ§¼ You pay only for usage
- ğŸ˜Œ No servers, no clusters, no stress
