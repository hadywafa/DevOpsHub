# ğŸ“ **Amazon EFS Storage Classes**

> _Smart file storage starts with the right class._

Amazon **Elastic File System (EFS)** offers multiple **storage classes** to help you balance **performance**, **availability**, and **cost** for different workloads. Understanding and using these classes correctly lets you scale your applications efficiently while saving money.

---

<div align="center">
  <img src="images/efs-storage-classes.png" alt="Amazon EFS Storage Classes" style="border-radius: 10px;">
</div>

---

## ğŸŒŸ **EFS Storage Class Overview**

EFS provides **four primary storage classes**, divided by **access pattern** and **Availability Zone (AZ)** resilience:

<div align="center">

| Class Name     | Access Pattern | Availability Zone Scope | Best Use Case                         |
| -------------- | -------------- | ----------------------- | ------------------------------------- |
| ğŸ”µ Standard    | Frequent       | Multi-AZ                | Active, frequently accessed workloads |
| ğŸŸ  Standard-IA | Infrequent     | Multi-AZ                | Archives, backups, cold data          |
| ğŸŸ£ One Zone    | Frequent       | Single-AZ               | Cost-effective single-AZ apps         |
| ğŸŸ¡ One Zone-IA | Infrequent     | Single-AZ               | Archiving in a specific AZ            |

</div>

---

## ğŸ”µ **1. EFS Standard**

- **ğŸ’¬ What it is:** Default, high-performance file system class.
- **ğŸ“Œ Use it for:**
  - Web apps
  - CI/CD pipelines
  - Big data analytics
- **ğŸš€ Benefits:**
  - Multi-AZ durability
  - High availability
  - Sub-millisecond latency
  - Automatically scales with your data

---

## ğŸŸ  **2. EFS Standard-IA (Infrequent Access)**

- **ğŸ’¬ What it is:** Cheaper alternative for less-accessed data.
- **ğŸ“Œ Use it for:**
  - Compliance logs
  - Long-term project data
  - Restore points
- **ğŸ’° Savings:**
  - ~85% cheaper than Standard
  - Per-GB retrieval fee when accessed

---

## ğŸŸ£ **3. EFS One Zone**

- **ğŸ’¬ What it is:** Similar to Standard, but stores data in a **single AZ**.
- **ğŸ“Œ Use it for:**
  - Temporary data
  - Internal dev/test workloads
  - Media pipelines with AZ-local access
- **ğŸ’¸ Why use it:**
  - ~47% cheaper than Standard
  - Same performance, lower redundancy

---

## ğŸŸ¡ **4. EFS One Zone-IA**

- **ğŸ’¬ What it is:** Infrequent Access class scoped to a single AZ.
- **ğŸ“Œ Use it for:**
  - Archival inside one AZ
  - Data lakes that don't require multi-AZ durability
- **ğŸ’¸ Cost Benefits:**
  - Cheapest storage option
  - Per-GB retrieval fee applies

### ğŸ§  Did You Know?

> Even though **One Zone** options are single-AZ, AWS **automatically backs them up** across 3 AZs via AWS Backup, so you're not flying blind!

---

## ğŸ¤– **EFS Intelligent-Tiering**

Let AWS do the thinking for you! With **EFS Lifecycle Management**, files automatically move between Standard and IA classes based on access.

```mermaid
flowchart LR
  A[File is created in Standard] --> B[30 days of no access]
  B --> C[File moves to Standard-IA]
  C --> D[File is accessed again]
  D --> E[File is restored to Standard]
```

### âš™ï¸ How to Enable

1. Go to your EFS File System.
2. Navigate to **"Lifecycle Management"**.
3. Set transition policy to move files to IA after **7, 14, 30, 60, or 90 days** of no access.

---

## ğŸ§ª Example Use Case: Web App + Archive

| Data Type           | Storage Class | Why?                                     |
| ------------------- | ------------- | ---------------------------------------- |
| User uploads        | Standard      | Frequently accessed in live app          |
| Logs older than 30d | Standard-IA   | Rarely used, but kept for audit purposes |
| Internal reports    | One Zone-IA   | Low-traffic, single-AZ system            |

---

## ğŸ’µ **Pricing Summary**

| Storage Class | Approx. Cost\* | Retrieval Fee | AZ Redundancy |
| ------------- | -------------- | ------------- | ------------- |
| Standard      | Highest        | None          | Multi-AZ      |
| Standard-IA   | ~85% cheaper   | Yes           | Multi-AZ      |
| One Zone      | ~47% cheaper   | None          | Single-AZ     |
| One Zone-IA   | Lowest         | Yes           | Single-AZ     |

> ğŸ’¡ \*Pricing varies by region. See [AWS EFS Pricing](https://aws.amazon.com/efs/pricing/) for details.

---

## âœ… **Best Practices for Choosing a Storage Class**

- ğŸ¯ Use **Standard** for hot data (active).
- ğŸ“¦ Use **IA** classes for cold data you donâ€™t access frequently.
- ğŸ› ï¸ Enable **Lifecycle Policies** to automate transitions.
- ğŸ·ï¸ Use **tags** and **monitoring tools** (e.g. CloudWatch) to analyze usage.

---

## ğŸ“ˆ **Visual Recap**

<div align="center">

```mermaid
graph TD
  A[EFS Standard - Hot] -->|30 days no access| B[EFS Standard-IA - Cold]
  A2[EFS One Zone - Hot] -->|30 days no access| B2[EFS One Zone-IA - Cold]
  B -->|First access| A
  B2 -->|First access| A2
```

</div>

---

## ğŸ”š **Conclusion**

Amazon EFS Storage Classes give you **complete flexibility** to handle both hot and cold data efficiently:

- ğŸ”¥ High-speed storage for demanding workloads
- â„ï¸ Cost-effective options for rarely accessed files
- ğŸ§  Smart automation to keep everything optimized
