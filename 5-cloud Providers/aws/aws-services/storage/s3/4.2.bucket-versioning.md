# ğŸ“¦ **Amazon S3 Bucket Versioning**

Amazon S3 **Bucket Versioning** is a powerful feature that protects your data from accidental **deletions** and **overwrites** by maintaining **multiple versions** of every object in a bucket.

---

<div align="center" style="padding: 0 20px;">
  <img src="images/bucket-versioning.png" alt="S3 Bucket Versioning" style="border-radius: 10px;">
</div>

---

<div align="center" style="padding: 0 20px;">
  <img src="images/bucket-versioning-example.png" alt="S3 Bucket Versioning Example" style="border-radius: 10px;">
</div>

---

## ğŸ” **What Is Bucket Versioning?**

When enabled, versioning ensures that **every object update** results in a **new version**, preserving the older ones. You can retrieve, restore, or delete specific versions at any time.

### âœ¨ **Key Highlights**

| Feature                 | Description                                             |
| ----------------------- | ------------------------------------------------------- |
| ğŸŒ Universal Protection | Applies to **all objects** in the bucket                |
| ğŸ”„ Version History      | Saves **every version** of each object                  |
| ğŸ§¼ Soft Deletes         | Deletions only mark the object with a **DELETE marker** |
| â™»ï¸ Lifecycle Support    | Use policies to transition/delete old versions          |

---

## ğŸ”„ **How Versioning Works (Step-by-Step)**

### 1ï¸âƒ£ **Uploading Objects**

- ğŸ“¥ **New Object**: Assigned a **unique version ID**.
- ğŸ”„ **Update Existing**: Creates a **new version**, retaining the old one as **non-current**.

### 2ï¸âƒ£ **Deleting Objects**

- ğŸ—‘ï¸ S3 places a **DELETE marker** instead of deleting the data.
- âš ï¸ The object appears deleted unless you **specify a version ID** to retrieve it.

### 3ï¸âƒ£ **Recovering Deleted Objects**

- âœ… **Delete the DELETE marker** to bring the most recent version back.
- ğŸ“‚ All previous versions remain retrievable unless explicitly deleted.

### 4ï¸âƒ£ **Managing Versions with Lifecycle Rules**

- ğŸ§Š **Transition to Glacier** after N days.
- âŒ› **Expire non-current versions** after 365 days.

Example:

```json
{
  "Rules": [
    {
      "Status": "Enabled",
      "NoncurrentVersionTransition": {
        "NoncurrentDays": 30,
        "StorageClass": "GLACIER"
      },
      "NoncurrentVersionExpiration": {
        "NoncurrentDays": 365
      }
    }
  ]
}
```

---

## ğŸ” **MFA Delete (Optional Security Layer)**

Add an extra protection layer by requiring **MFA (Multi-Factor Authentication)** to:

- ğŸš« Delete versions of objects
- ğŸ”„ Change versioning configuration

### ğŸ”‘ Important Notes

- Only the **root account** can enable MFA Delete
- Must use **AWS CLI**, **SDK**, or **API** (not Console)

---

## ğŸŒŸ **Benefits Recap**

| Benefit            | Description                                                   |
| ------------------ | ------------------------------------------------------------- |
| ğŸ›¡ï¸ Data Protection | Prevents permanent loss from accidental deletes/overwrites    |
| ğŸ“œ Audit Readiness | Tracks full history of object changes                         |
| ğŸ”„ Easy Rollbacks  | Restore to any previous version with a few clicks or commands |
| ğŸ’° Cost Control    | Use lifecycle rules to archive or expire non-current versions |

---

Enable versioning on buckets where **data durability, integrity, and audit history** are mission-critical. Itâ€™s your **undo button** for S3! ğŸ’¾

## References

[Bucket Versioning](https://docs.aws.amazon.com/AmazonS3/latest/userguide/versioning-workflows.html)
