# 🔒 **Amazon S3 Object Lock**

Amazon S3 **Object Lock** provides a **Write Once Read Many (WORM)** data storage model, ensuring **data immutability** and compliance for critical workloads. With Object Lock, you can **prevent accidental or malicious deletion** or overwrite of your S3 objects. This feature is especially useful for industries that require **regulatory retention** like finance, healthcare, and legal.

---

## 🌟 **What Is S3 Object Lock?**

| 🧩 Feature                        | 🔎 Description                                                                       |
| --------------------------------- | ------------------------------------------------------------------------------------ |
| 🔐 **WORM Model**                 | Prevents object deletion or overwrite for a set period or indefinitely               |
| 📦 **Applies to Buckets/Objects** | Enable Object Lock at the **bucket level** and apply to specific **object versions** |
| 🔄 **Requires Versioning**        | S3 Versioning must be enabled to use Object Lock                                     |
| 🌍 **Works With Replication**     | Supports **Cross-Region** and **Same-Region Replication** for locked objects         |

---

## 🧱 **Retention Modes in S3 Object Lock**

### 🛡️ Governance Mode

- Restricts delete/overwrite operations for most users.
- IAM users must have `s3:BypassGovernanceRetention` to override.
- ✅ Good for internal enforcement while allowing trusted roles to override.

### 🔐 Compliance Mode

- **Absolute protection** — no user (not even root) can override.
- Retention period **cannot be shortened or removed** once set.
- ✅ Ideal for strict regulatory environments (e.g., SEC 17a-4).

---

## ⏳ **Retention Controls**

### 📅 **Retention Period**

- Defines a lock on the object **until a specified date/time**.
- No modification or deletion is allowed during the retention.
- Applies per **object version**.

### 📌 **Legal Hold**

- Adds an **indefinite lock** on the object version.
- Remains in effect until **explicitly removed**.
- Works **independently** of retention dates.

🛡️ **Tip:** Use **Retention Period + Legal Hold** together for maximum protection.

---

## 🧰 **How to Enable Object Lock**

### 1️⃣ Enable During Bucket Creation

- You **must enable Object Lock when creating the bucket**.
- Object Lock **cannot be enabled later**.
- Also enable **Versioning** immediately.

### 2️⃣ Set Retention via API or Console

- Use `PutObjectRetention` API or specify during upload.
- Choose **Governance** or **Compliance** mode.

### 3️⃣ Optional: Apply Legal Hold

```json
{
  "LegalHold": "ON"
}
```

---

## ❄️ **S3 Glacier Vault Lock**

Vault Lock extends Object Lock functionality to **Amazon S3 Glacier Vaults**, enforcing WORM at the archive level.

| Use Case              | Description                                                                |
| --------------------- | -------------------------------------------------------------------------- |
| 🧊 Immutable Archives | Vault Lock makes Glacier archives unchangeable once locked                 |
| 📅 Timed Retention    | Define rules to retain archives for a set period (e.g., 1 year)            |
| 🕵️ Audit Protection   | Prevent deletion of archives under investigation using **tag-based rules** |

---

## ✅ **Why Use S3 Object Lock?**

### 🛡️ Enhanced Protection

- Prevents critical object deletion/modification.
- Maintains **immutable audit records and backups**.

### 🏛️ Regulatory Compliance

- Meets compliance standards like **FINRA**, **HIPAA**, **SEC**, and **CFTC**.
- Prevents human errors by enforcing **technical restrictions**.

### 💰 Storage Cost Optimization

- Use **Lifecycle Policies** to transition older, non-current versions to **Glacier** or **Deep Archive**.

---

## 🧠 **Best Practices**

✅ **Plan at Bucket Creation** — Object Lock can’t be enabled afterward.  
✅ Use **Compliance Mode** for legal or audit-level enforcement.  
✅ Combine with **CRR/SRR** to replicate locked data to backup regions.  
✅ Monitor lock status and retention via **CloudWatch Events** or **S3 Inventory**.  
❌ Avoid premature locking — you cannot shorten retention once set.

---

## 📦 **Example: Financial Records Use Case**

You operate a financial service platform that handles transaction receipts:

🔐 Requirements:

- Retain each record for **7 years**.
- Prevent deletion by anyone.
- Allow Legal to freeze specific records indefinitely.

✅ Setup:

- Create bucket with **Object Lock enabled**.
- Use **Compliance Mode** with a 7-year retention.
- Apply **Legal Holds** as needed.

🎯 Result: You're now **compliant, audit-ready**, and protected from user error or malicious action.
