# ğŸ“¢ **Amazon S3 Event Notifications**

Amazon S3 **Event Notifications** let your apps automatically respond when something happens in your bucket â€” like a file upload, deletion, or restore. Think of it like giving your bucket ears ğŸ‘‚ so it can say: â€œHey, something just happened!â€ and take action. âš¡

<div align="center" style="padding: 0 0;">
  <img src="images/s3-event-notification.png" alt="S3 Event Notifications" style="border-radius: 10px;" >
</div>

---

## ğŸ” **What Are S3 Event Notifications?**

S3 Event Notifications are configurations that detect specific events (like new uploads or deletions) and trigger actions via:

- ğŸ“¨ Amazon SNS (email/text broadcast)
- ğŸ“¬ Amazon SQS (queue for async processing)
- ğŸ§  AWS Lambda (run custom code instantly)

---

## âš™ï¸ **How S3 Event Notifications Work**

```mermaid
flowchart LR
    Client[User or App Uploads File]
    Client --> S3[S3 Bucket]
    S3 -->|Object Created| Filter[Prefix/Suffix Match?]
    Filter -->|Yes| Event[Trigger Notification]
    Event --> SNS[ğŸ“§ SNS Topic]
    Event --> SQS[ğŸ“¥ SQS Queue]
    Event --> Lambda[âš™ï¸ Lambda Function]
    Filter -->|No| Ignore[No Action]
```

---

## ğŸ› ï¸ **How to Set Up S3 Event Notifications**

### 1ï¸âƒ£ Open Your S3 Bucket

- Go to **S3 Console â†’ Buckets**
- Choose your bucket

### 2ï¸âƒ£ Go to **Properties â†’ Event Notifications**

- Scroll to **â€œEvent notificationsâ€**
- Click **â€œCreate Event Notificationâ€**

### 3ï¸âƒ£ Define Event Trigger

- **Name:** e.g., `ImageUploadHandler`
- **Event Types:** `PUT`, `DELETE`, `RESTORE`, etc.
- **Prefix/Suffix Filters:** e.g., `images/`, `.jpg`

### 4ï¸âƒ£ Choose the Destination

- ğŸ§  **Lambda Function** (serverless trigger)
- ğŸ“§ **SNS Topic** (notify many subscribers)
- ğŸ“¥ **SQS Queue** (queue the job)

### 5ï¸âƒ£ Review & Save

Make sure your bucket and destination have the correct IAM permissions to communicate.

---

## âœ¨ **Popular Use Cases**

| Use Case              | What Happens                                              |
| --------------------- | --------------------------------------------------------- |
| ğŸ“¸ Image Resizing     | Upload a photo â†’ Lambda resizes it automatically          |
| ğŸ§  AI Training        | Drop data in â†’ triggers SageMaker model training          |
| ğŸ§¾ Audit Logging      | Log every delete/upload to DynamoDB for security/auditing |
| ğŸ“¤ Email Notification | Upload a file â†’ notify admin via SNS email or SMS         |
| ğŸ”„ Cross-Region Sync  | Auto-replicate new uploads to another bucket              |

---

## ğŸ§  **Best Practices**

- ğŸ”’ **Permissions:**

  - S3 must be allowed to call SNS, SQS, or Lambda (IAM policies matter).

- ğŸ“‰ **Cost Control:**

  - High-volume buckets can rack up charges. Only trigger events you really need.

- ğŸ“Š **Monitor It:**
  - Use CloudWatch Logs & Metrics to track invocations and failures.

---

## ğŸ“Œ Example Event JSON

Hereâ€™s a sample event payload youâ€™ll receive:

```json
{
  "Records": [
    {
      "eventName": "ObjectCreated:Put",
      "s3": {
        "bucket": { "name": "my-bucket" },
        "object": { "key": "uploads/file.jpg" }
      }
    }
  ]
}
```

---

## ğŸš€ Why Itâ€™s Awesome

| ğŸ”¥ Feature             | âœ… Benefit                                      |
| ---------------------- | ----------------------------------------------- |
| Event-driven workflow  | No polling or manual checks                     |
| Instant responsiveness | React to uploads/deletes in real-time           |
| Fully serverless       | Combine with Lambda to run code without servers |
| Scalable & decoupled   | Use SQS for large-scale, async pipelines        |
