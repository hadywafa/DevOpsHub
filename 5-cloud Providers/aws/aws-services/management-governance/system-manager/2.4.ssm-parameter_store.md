# ğŸ”‘ **AWS SSM Parameter Store**

_â€œSecure, versioned storage for app configs, secrets, and environment variables.â€!_

---

## ğŸ“˜ **What Is Parameter Store?**

> **Parameter Store** is a fully managed service from **AWS Systems Manager (SSM)** that lets you **store, retrieve, and manage configuration data** and **secrets** as key-value pairs.

---

## ğŸ§  Why Use It?

| Feature      | Benefit                                                      |
| ------------ | ------------------------------------------------------------ |
| ğŸ” Secure    | Supports **KMS encryption** (SecureString)                   |
| ğŸ§¾ Versioned | Every update creates a new version                           |
| ğŸ”„ Dynamic   | Retrieve values at runtime in apps, Lambda, ECS, etc.        |
| ğŸ” Organized | Use path-style keys (e.g., `/myapp/dev/db`)                  |
| ğŸ’° Cost      | Free for basic usage (some KMS/encryption features may cost) |

---

## ğŸ“¦ **Parameter Types**

| Type           | Description            |
| -------------- | ---------------------- |
| `String`       | Plain text value       |
| `StringList`   | Comma-separated values |
| `SecureString` | Encrypted with KMS     |

---

## ğŸ—ï¸ **Structure & Hierarchy**

Use slashes (`/`) to organize your parameters:

```ini
/myapp/
  â””â”€â”€ dev/
       â”œâ”€â”€ db-url
       â””â”€â”€ db-password
  â””â”€â”€ prod/
       â”œâ”€â”€ db-url
       â””â”€â”€ db-password
```

âœ… This supports **environment-based access** using IAM condition keys like `"ssm:ResourceTag/Environment"`.

---

## ğŸ› ï¸ **Create a Parameter (CLI)**

### ğŸ”¸ Plaintext Parameter

```bash
aws ssm put-parameter \
  --name "/myapp/dev/db-url" \
  --value "postgres://dev-user@db.dev.local" \
  --type String \
  --overwrite
```

---

### ğŸ”¸ Encrypted Secret (SecureString)

```bash
aws ssm put-parameter \
  --name "/myapp/dev/db-password" \
  --value "SuperSecret123!" \
  --type SecureString \
  --key-id "alias/aws/ssm" \
  --overwrite
```

ğŸ§  _Use your own KMS key (recommended), or use the default `aws/ssm`._

---

## ğŸ“¥ **Get Parameter (CLI)**

### ğŸ”¹ Plaintext

```bash
aws ssm get-parameter \
  --name "/myapp/dev/db-url" \
  --query "Parameter.Value" \
  --output text
```

### ğŸ”¹ Secure (Decrypted)

```bash
aws ssm get-parameter \
  --name "/myapp/dev/db-password" \
  --with-decryption \
  --query "Parameter.Value" \
  --output text
```

---

## ğŸ **Access from Code (Python Boto3)**

```python
import boto3

ssm = boto3.client('ssm')

response = ssm.get_parameter(
    Name='/myapp/dev/db-password',
    WithDecryption=True
)

print("DB Password:", response['Parameter']['Value'])
```

---

## ğŸš **Access in Bash**

```bash
DB_PASSWORD=$(aws ssm get-parameter \
  --name "/myapp/dev/db-password" \
  --with-decryption \
  --query "Parameter.Value" \
  --output text)

echo "Password is $DB_PASSWORD"
```

---

## ğŸ§° **Common Use Cases**

| Use Case             | Example                                           |
| -------------------- | ------------------------------------------------- |
| ğŸ” Secrets Mgmt      | Store DB creds, API tokens                        |
| ğŸ”„ Lambda Env        | Inject values into Lambda at runtime              |
| ğŸ§ª CI/CD             | Pull environment config from SSM in build scripts |
| ğŸ§¾ Feature Flags     | `/myapp/feature-x-enabled = true`                 |
| ğŸ—ºï¸ Path-Based Access | Use IAM to allow access to `/myapp/dev/*` only    |

---

## ğŸ§  Best Practices

- âœ… Use **`SecureString` + KMS** for anything sensitive.
- âœ… Organize parameters using **path hierarchy** (e.g. `/app/env/key`)
- âœ… Enable **CloudTrail** for auditing changes to parameters.
- âœ… Use **parameter versioning** and roll back if needed.
- âœ… Apply **IAM least privilege** to access only specific paths.

---

## ğŸš« Common Pitfalls

| Issue                | Fix                                          |
| -------------------- | -------------------------------------------- |
| âŒ â€œAccess Deniedâ€   | Ensure your IAM role has `ssm:GetParameter`  |
| âŒ Secrets exposed   | Use `--with-decryption` only where needed    |
| âŒ Missing key error | Check your KMS policy or use `alias/aws/ssm` |

---

## ğŸ“ Summary

| Feature           | Value                                   |
| ----------------- | --------------------------------------- |
| Parameter Types   | `String`, `StringList`, `SecureString`  |
| Hierarchy Support | âœ… Yes                                  |
| CLI Tool          | `aws ssm put-parameter / get-parameter` |
| Encryption        | KMS, optional                           |
| Versioned         | âœ… Yes                                  |
| IAM Controlled    | âœ… Yes                                  |
| Access from Apps  | âœ… Boto3, Bash, AWS SDKs, Lambda, ECS   |

---

## ğŸ”— References

- [ğŸ“˜ Parameter Store Official Docs](https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-parameter-store.html)
- [ğŸ“˜ SecureString Type](https://docs.aws.amazon.com/systems-manager/latest/userguide/sysman-paramstore-about.html)
- [ğŸ“˜ IAM for Parameter Store](https://docs.aws.amazon.com/systems-manager/latest/userguide/sysman-paramstore-access.html)
