# **üèóÔ∏è AWS CloudFormation Demo - Full Infrastructure Deployment**

## üìå Demo 1

This AWS CloudFormation template **automates the deployment of a basic AWS infrastructure**, which includes:

‚úÖ **A VPC** (Virtual Private Cloud) ‚Üí Defines the network.  
‚úÖ **A Public Subnet** ‚Üí Enables internet access for resources.  
‚úÖ **An Internet Gateway** ‚Üí Allows public internet connectivity.  
‚úÖ **A Route Table & Route** ‚Üí Directs traffic from the subnet to the internet.  
‚úÖ **A Security Group** ‚Üí Controls inbound and outbound traffic.  
‚úÖ **An EC2 Instance** ‚Üí A virtual machine running in the cloud.

---

<div style="display: flex; justify-content: center;">

```mermaid
graph TD
    A[VPC 10.0.0.0/16] --> B[Public Subnet 10.0.0.0/24]
    B --> C[EC2 Instance]
    B --> D[Route Table]
    D --> E[Internet Gateway]
    C --> F[Security Group]
    E -->|Internet Access| G[Public Internet]
```

</div>

---

### **üìú Full CloudFormation Template**

```yaml
AWSTemplateFormatVersion: 2010-09-09
Description: CloudFormation Template to create a VPC, Subnet, Internet Gateway, Route Table, Security Group, and an EC2 instance.

Resources:
  # 1Ô∏è‚É£ Create a VPC
  ActivityVpc:
    Type: AWS::EC2::VPC
    Properties:
      CidrBlock: 10.0.0.0/16
      Tags:
        - Key: Name
          Value: Section2ActivityVPC

  # 2Ô∏è‚É£ Create a Public Subnet
  ActivitySubnet:
    Type: AWS::EC2::Subnet
    Properties:
      CidrBlock: 10.0.0.0/24
      MapPublicIpOnLaunch: true
      VpcId: !Ref ActivityVpc

  # 3Ô∏è‚É£ Create a Route Table
  ActivityRouteTable:
    Type: AWS::EC2::RouteTable
    Properties:
      VpcId: !Ref ActivityVpc

  # 4Ô∏è‚É£ Create an Internet Gateway
  ActivityInternetGateway:
    Type: AWS::EC2::InternetGateway

  # 5Ô∏è‚É£ Attach the Internet Gateway to the VPC
  ActivityGatewayAttachment:
    Type: AWS::EC2::VPCGatewayAttachment
    Properties:
      VpcId: !Ref ActivityVpc
      InternetGatewayId: !Ref ActivityInternetGateway

  # 6Ô∏è‚É£ Create a Route to the Internet
  InternetRoute:
    Type: AWS::EC2::Route
    DependsOn:
      - ActivityGatewayAttachment
    Properties:
      RouteTableId: !Ref ActivityRouteTable
      GatewayId: !Ref ActivityInternetGateway
      DestinationCidrBlock: 0.0.0.0/0

  # 7Ô∏è‚É£ Associate the Route Table with the Subnet
  ActivitySubnetRouteTableAssoc:
    Type: AWS::EC2::SubnetRouteTableAssociation
    Properties:
      RouteTableId: !Ref ActivityRouteTable
      SubnetId: !Ref ActivitySubnet

  # 8Ô∏è‚É£ Create a Security Group
  ActivitySecurityGroup:
    Type: AWS::EC2::SecurityGroup
    Properties:
      GroupDescription: Allow ICMP traffic (ping)
      VpcId: !Ref ActivityVpc
      SecurityGroupIngress:
        - CidrIp: 0.0.0.0/0
          IpProtocol: icmp
          FromPort: -1
          ToPort: -1

  # 9Ô∏è‚É£ Create an EC2 Instance
  ActivityInstance:
    Type: AWS::EC2::Instance
    DependsOn:
      - InternetRoute
      - ActivitySubnetRouteTableAssoc
    Properties:
      InstanceType: t2.micro
      SubnetId: !Ref ActivitySubnet
      ImageId: ami-0fad7378adf284ce0 # Replace with a valid AMI ID for your region
      SecurityGroupIds:
        - !Ref ActivitySecurityGroup
```

---
