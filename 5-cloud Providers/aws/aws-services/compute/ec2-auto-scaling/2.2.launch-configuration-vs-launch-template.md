# **EC2 Auto Scaling ‚Äì Launch Configuration vs. Launch Template ‚öôÔ∏è**

**Launch Configuration** and **Launch Template** both define the configuration for EC2 instances in an Auto Scaling group, but **Launch Templates** offer more flexibility and features. Here‚Äôs a detailed comparison, including the creation steps and available options for both.

> ‚ö†Ô∏è Note:
>
> For accounts created after May 31, 2023, the EC2 console only supports creating Auto Scaling groups with launch templates. Creating Auto Scaling groups with launch configurations is not recommended but still available via the CLI and API until December 31, 2023.

## **Launch Configuration üìù**

**Purpose**: Defines the EC2 instance configuration for Auto Scaling groups. It is a legacy configuration option.

### **Steps to Create a Launch Configuration:**

1. **Go to EC2 Dashboard**:
   - Navigate to the **Auto Scaling** section.
2. **Create a Launch Configuration**:
   - Click on **Create Launch Configuration**.
3. **Configure Instance**:
   - **AMI**: Select the Amazon Machine Image (AMI) to use.
   - **Instance Type**: Choose the instance type (e.g., t2.micro, m5.large).
4. **Configure Instance Details**:
   - **Network**: Select the VPC and subnet for the instance.
   - **IAM Role**: Select an IAM role if the instance needs permissions.
   - **Shutdown Behavior**: Specify what happens when the instance is terminated (Stop/Terminate).
5. **Add Storage**:
   - Attach additional volumes if needed.
6. **Configure Security Group**:
   - Select an existing security group or create a new one.
7. **Review and Create**:
   - Review the settings and create the Launch Configuration.

### **Available Options for Launch Configuration:**

- **AMI**: Choose an existing AMI or create a custom one.
- **Instance Type**: Choose from a variety of instance types (e.g., t2.micro, m5.large).
- **Storage**: Attach additional EBS volumes.
- **Security Group**: Define network security rules for the instances.
- **IAM Role**: Choose an IAM role if the instances need access to other AWS services.
- **Termination Policies**: Set policies for terminating instances in the Auto Scaling group.

### **Limitations of Launch Configuration:**

- **No versioning**: Cannot maintain multiple versions of a launch configuration.
- **Single Instance Type**: Can only specify one instance type per Auto Scaling group.
- **No Spot and On-Demand mix**: Cannot mix On-Demand and Spot instances.
- **No Placement Groups**: Cannot specify placement groups for instances.

---

## **Launch Template üìë**

**Purpose**: Defines the EC2 instance configuration with added flexibility and options. AWS recommends using **Launch Templates** over Launch Configurations due to their enhanced features.

### **Steps to Create a Launch Template:**

1. **Go to EC2 Dashboard**:
   - Navigate to the **Launch Templates** section under **Instances**.
2. **Create a Launch Template**:
   - Click on **Create Launch Template**.
3. **Configure Template Name**:
   - Give the template a descriptive name and provide a version description (if needed).
4. **Configure Instance Details**:
   - **AMI**: Choose the AMI for the instance.
   - **Instance Type**: Select the instance type(s) for the template.
   - **Key Pair**: Select an SSH key pair for instance access.
   - **Network and Subnet**: Specify VPC and subnet for the instance.
   - **IAM Role**: Choose an IAM role for the instance to access other AWS resources.
5. **Add Storage**:
   - Attach additional EBS volumes as needed.
6. **Configure Security Group**:
   - Select an existing security group or create a new one.
7. **Additional Options**:
   - **Placement Group**: Specify the placement group (optional).
   - **Capacity Reservations**: Specify whether instances should be launched with capacity reservations.
   - **Elastic IP**: Assign an Elastic IP (if necessary).
8. **Review and Create**:
   - Review the configurations and create the Launch Template.

### **Available Options for Launch Template:**

- **AMI**: Choose the Amazon Machine Image to use for the instance.
- **Instance Type**: Specify one or more instance types.
- **Storage**: Attach EBS volumes with specific configurations.
- **Security Groups**: Choose existing security groups or create new ones.
- **IAM Role**: Attach an IAM role for instance access to AWS services.
- **Placement Group**: Specify a placement group to control how instances are placed in the VPC.
- **Multiple Instance Types**: Allow Auto Scaling to use different instance types within the same Auto Scaling group.
- **Spot and On-Demand Instances**: Mix Spot and On-Demand instances in the same Auto Scaling group.
- **Versioning**: Create multiple versions of the template to handle different configurations.

### **Advantages of Launch Template Over Launch Configuration:**

- **Versioning**: Maintain multiple versions of the same launch template.
- **Multiple Instance Types**: Use different instance types in the same Auto Scaling group.
- **Spot and On-Demand Instances**: You can specify a mix of On-Demand and Spot instances.
- **Placement Group**: Specify placement groups for instances.
- **Elastic IP**: You can assign an Elastic IP to instances.
- **Capacity Reservation**: You can ensure your instances have dedicated capacity in specific Availability Zones.

---

## **Summary:**

- **Launch Configuration**: A legacy feature used to configure Auto Scaling instances, but with limited flexibility. Ideal for simple scaling needs with a single instance type and without the need for multiple versions or complex configurations.
- **Launch Template**: A more flexible and advanced option, supporting versioning, mixed instance types, Spot and On-Demand instances, placement groups, and Elastic IPs. It is the recommended option for modern Auto Scaling configurations.
