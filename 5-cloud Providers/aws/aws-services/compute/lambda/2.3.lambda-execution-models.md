# ‚öôÔ∏è **Lambda Execution Models**

AWS Lambda supports three primary execution models: **Synchronous**, **Asynchronous**, and **Poll-Based**. Understanding these models helps in designing how your functions respond to different triggers and manage responses effectively.

<div style="text-align: center;">
    <img src="images/lambda-execution-models.png" alt="Lambda Execution Models" />
</div>

## 1. üïí **Synchronous Invocation**

**Synchronous Invocation** occurs when a service invokes a Lambda function and waits for the function to process the event and return a response.

### üìå **Key Characteristics:**

- **Immediate Response:** The invoking service waits for the Lambda function to complete and receive its response.
- **Use Cases:** Suitable for scenarios where the response from the function is needed immediately, such as API requests handled by API Gateway.

### üîÑ **Flow:**

1. An event source (e.g., API Gateway) sends a request to Lambda.
2. Lambda executes the function and processes the event.
3. Upon completion, Lambda returns the response to the invoking service.

## 2. üîÑ **Asynchronous Invocation**

**Asynchronous Invocation** allows services to invoke Lambda functions without waiting for a response. The event is queued and processed by Lambda independently.

### üìå **Key Characteristics:**

- **Non-blocking:** The invoking service does not wait for the Lambda function to complete.
- **Use Cases:** Ideal for background processing, such as image processing triggered by S3 uploads or sending notifications via SNS.

### üîÑ **Flow:**

1. An event source (e.g., S3, SNS) sends an event to Lambda.
2. Lambda receives the event and queues it for processing.
3. Lambda executes the function asynchronously, handling the event without impacting the invoking service.

## 3. üêò **Poll-Based Invocation**

**Poll-Based Invocation** involves the Lambda service polling for events from specific sources and invoking functions when new events are detected.

### üìå **Key Characteristics:**

- **Event Detection:** Lambda continuously polls the event source for new data or changes.
- **Use Cases:** Suitable for services that emit events to queues or streams, such as Amazon SQS, Amazon Kinesis, or DynamoDB Streams.

### üîÑ **Flow:**

1. Lambda polls the event source (e.g., SQS, Kinesis) for new events.
2. When new events are detected, Lambda invokes the function to process them.
3. The function handles the events, and Lambda manages the polling and invocation process automatically.

---

## üõ†Ô∏è **Common Services That Can Trigger Lambda Functions**

AWS Lambda integrates seamlessly with numerous AWS services, enabling diverse automation and processing capabilities. Below are some of the most common services that can act as Lambda triggers:

### 1. **Amazon S3 (Simple Storage Service)**

- **Events:** Object creation, deletion, and other bucket-level events.
- **Use Case:** Automatically process or analyze data as it is uploaded to S3.

### 2. **Amazon API Gateway**

- **Events:** Direct HTTPS requests routed through API endpoints.
- **Use Case:** Build serverless APIs that trigger Lambda functions to handle HTTP requests.

### 3. **Amazon SNS (Simple Notification Service)**

- **Events:** Messages published to SNS topics.
- **Use Case:** Distribute messages to multiple subscribers, including Lambda functions for processing.

### 4. **Amazon DynamoDB Streams**

- **Events:** Changes to DynamoDB tables, such as inserts, updates, and deletes.
- **Use Case:** Trigger Lambda functions to react to database changes, enabling real-time analytics or data replication.

### 5. **Amazon EventBridge (formerly CloudWatch Events)**

- **Events:** Scheduled events and custom events from various AWS services.
- **Use Case:** Execute functions on a schedule or in response to specific events across your AWS environment.

### 6. **Application Load Balancer (ALB)**

- **Events:** HTTP requests routed through ALB to Lambda functions as registered targets.
- **Use Case:** Serve web traffic using Lambda functions as backend services.

### 7. **AWS IoT Core**

- **Events:** IoT device messages and events.
- **Use Case:** Process data from IoT devices in real-time using Lambda functions.

---

## üìù **Configuration Steps for Lambda Triggers**

Setting up Lambda triggers involves configuring the event source to invoke your Lambda function and ensuring the necessary permissions are in place.

### üì¶ **Example: Configuring S3 Event Notifications to Trigger Lambda**

1. **Enable Versioning on S3 Bucket:**

   - Navigate to your S3 bucket in the AWS Management Console.
   - Enable **Versioning** to ensure all object write actions trigger notifications.

2. **Create a Lambda Function:**

   - Go to the AWS Lambda console.
   - Click on **"Create function"** and provide the necessary details.
   - Implement your function code to process S3 events.

3. **Set Up S3 Event Notifications:**

   - In the S3 bucket settings, go to **"Properties"** > **"Event notifications"**.
   - Create a new event notification and specify the event types (e.g., object creation).
   - Choose **"Lambda Function"** as the destination and select your function.

4. **Assign Permissions:**

   - Ensure the Lambda function's **resource-based policy** allows S3 to invoke it.
   - The default execution role should include permissions to write logs to CloudWatch.

5. **Test the Trigger:**

   - Upload or delete an object in the S3 bucket to verify that the Lambda function is invoked correctly.

---

## üèÅ **Conclusion**

Lambda triggers are pivotal in building responsive and automated serverless applications on AWS. By leveraging various event sources and understanding the different execution models, you can design applications that efficiently react to real-time events, streamline workflows, and enhance scalability without the overhead of managing server infrastructure.

Whether you're processing data uploads with S3, handling API requests via API Gateway, or responding to database changes with DynamoDB Streams, Lambda triggers empower your applications to operate seamlessly and efficiently in a serverless environment.
