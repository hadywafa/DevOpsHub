# 🌱 **AWS Lambda Environment Variables – Configuring Functions Dynamically**

AWS Lambda **Environment Variables** allow you to **store and manage configuration settings** without modifying your code. They are useful for **storing secrets, database connections, API keys, and feature flags**.

---

## 🛠 **How to Use Environment Variables in Lambda**

✔️ **Define Key-Value Pairs** – Set variables in the AWS Lambda console or via the AWS CLI.  
✔️ **Access Variables in Code** – Use standard environment variable retrieval methods in Python, Node.js, Java, etc.  
✔️ **Secure Sensitive Data** – Encrypt values using **AWS KMS** or store them in **AWS Secrets Manager**.

---

## 📌 **Setting Environment Variables**

### **1️⃣ AWS Console**

- Go to **AWS Lambda → Your Function → Configuration → Environment Variables**
- Add key-value pairs like:
  - `DB_HOST = mydatabase.example.com`
  - `API_KEY = abc123secret`

### **2️⃣ AWS CLI**

```sh
aws lambda update-function-configuration \
  --function-name myLambdaFunction \
  --environment "Variables={DB_HOST=mydatabase.example.com,API_KEY=abc123secret}"
```

---

## 🧑‍💻 **Accessing Environment Variables in Code**

### **Python Example**

```python
import os

def lambda_handler(event, context):
    db_host = os.getenv("DB_HOST")  # Fetch environment variable
    api_key = os.getenv("API_KEY")
    return {"Database Host": db_host, "API Key": api_key}
```

### **Node.js Example**

```javascript
exports.handler = async (event) => {
  const dbHost = process.env.DB_HOST;
  const apiKey = process.env.API_KEY;
  return { "Database Host": dbHost, "API Key": apiKey };
};
```

---

## 🔐 **Security Best Practices**

✔️ **Never store secrets directly in environment variables** – Use **AWS Secrets Manager** or **AWS Systems Manager Parameter Store**.  
✔️ **Use KMS encryption** – AWS allows encrypting variables using **AWS Key Management Service (KMS)**.  
✔️ **Avoid hardcoding credentials** – Use environment variables instead for better security & flexibility.

---

## 🎯 **Why Use Environment Variables?**

✔️ **Easier Configuration** – Update values without changing code.  
✔️ **Security** – Avoid hardcoding secrets in your Lambda function.  
✔️ **Flexibility** – Use different configurations for **dev, test, and prod** environments.

---

## 🚀 **Final Takeaways**

✔️ **Environment variables help manage configurations without code changes.**  
✔️ **Store sensitive data securely** using **AWS Secrets Manager** or **KMS encryption**.  
✔️ **Use them to differentiate between development, staging, and production environments.**
