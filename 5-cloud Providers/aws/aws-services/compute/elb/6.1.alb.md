# **Application Load Balancer (ALB) Overview ğŸ”„**

An **Application Load Balancer (ALB)** is a highly scalable, Layer 7 load balancer in AWS that intelligently routes **HTTP**, **HTTPS**, **WebSocket**, and **gRPC** traffic based on application-level content. ALBs are tailor-made for modern architectures like **microservices**, **serverless**, and **containerized apps** running on **ECS**, **EKS**, or **EC2**.

<div style="text-align: center;">
    <img src="images/alb-routing.png" style="border-radius: 10px;" alt="ALB Routing" />
</div>

---

## **ğŸš€ Key Features of ALB**

### ğŸ”— **Protocol Support**

- **HTTP/HTTPS** â€“ Standard web protocols.
- **HTTP/2** â€“ Better performance with multiplexed streams.
- **WebSockets** â€“ Persistent, bidirectional communication.
- **gRPC** â€“ Efficient service-to-service communication using Protocol Buffers.

### ğŸ›¡ï¸ **Security**

- **AWS WAF Integration** â€“ Protect against SQL injection, XSS, and common threats.
- **SSL Offloading** â€“ Terminate SSL/TLS at ALB to simplify backend.
- **Delete Protection** â€“ Prevents accidental deletion.

### ğŸŒ **IP Support**

- Dual-stack (IPv4 + IPv6) for internet-facing ALBs.

### âš–ï¸ **Load Balancing Algorithms**

- **Round Robin** â€“ Default distribution.
- **Least Outstanding Requests** â€“ Send new requests to the target with the fewest active requests.

---

## **ğŸ§  Advanced Routing Capabilities**

ALB shines when it comes to smart content-based routing:

### ğŸ  **Host-Based Routing**

Route based on domain:

- `api.example.com` â†’ API target group
- `app.example.com` â†’ Web UI target group

### ğŸ“ **Path-Based Routing**

Route based on URL path:

- `/images/*` â†’ Image microservice
- `/checkout` â†’ Payment microservice

### ğŸ“¬ **Header-Based Routing**

Example:

- If `User-Agent` contains `Mobile`, route to the mobile-optimized backend.

### âš™ï¸ **HTTP Method-Based Routing**

Route `GET` requests to a cache layer, `POST` to an API.

### â“ **Query String Parameter Routing**

- `?version=beta` â†’ Test backend
- `?env=prod` â†’ Production backend

### ğŸ“ **Source IP Routing**

Route specific IPs, CIDR blocks, or geographies to specialized services.

---

## **ğŸ”„ Example: Request Flow With ALB**

<div style="text-align: center;">

```mermaid
sequenceDiagram
    participant Client as ğŸ‘¤ Client
    participant ALB as ğŸŒ Application Load Balancer
    participant API as ğŸ§  API Target
    participant Static as ğŸ–¼ï¸ Static Content Service

    Client->>ALB: GET /api/products
    ALB-->>API: Forwards to API target group

    Client->>ALB: GET /images/logo.png
    ALB-->>Static: Forwards to Image microservice
```

</div>

---

## **ğŸ“Š Use Cases**

- Web and mobile apps with multiple domains
- Microservices or container workloads in ECS or EKS
- Multilingual websites with localized subdomains
- Real-time apps using WebSocket

---

## **âœ… Conclusion**

The **Application Load Balancer (ALB)** is your go-to tool for building smart, scalable, and secure architectures on AWS. With **advanced routing**, **WebSocket and gRPC support**, **WAF integration**, and **SSL termination**, ALB is built for the demands of todayâ€™s modern cloud-native apps.

> ğŸ” Tip: Use ALB with AWS WAF and CloudWatch Logs for full security and visibility!
