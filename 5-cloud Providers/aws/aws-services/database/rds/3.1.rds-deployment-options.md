# â˜ï¸ **Amazon RDS Deployment Options & Scaling** âš–ï¸

Amazon **RDS (Relational Database Service)** provides multiple deployment options tailored for **availability, performance, and scalability**. Choosing the right deployment method depends on your workload's **redundancy, failover, and read capacity** needs. Below is a breakdown of **deployment options and their supported database engines**.

---

## ğŸ’ª **1. Single-AZ Deployment**

<div style="text-align:center;">
    <img src="images/single-az-deployment.png" alt="Single-AZ Deployment">
</div>

---

âœ… **Availability:** **99.5% uptime**  
âœ… **Durability:** âŒ **No data redundancy**  
âœ… **Replication Type:** âŒ **None** (No standby, no replication)  
âœ… **Endpoints:**

- **Write/Read Endpoint:** âœ… Primary instance
- **Standby Endpoint:** âŒ None

ğŸ“ **How It Works:**

- The **database exists in a single Availability Zone** (AZ).
- If the instance fails, **manual intervention** is required for recovery.
- **No automatic failover** since there is **no standby**.

---

## ğŸŒ **2. Multi-AZ DB Instance Deployment**

<div style="text-align:center;">
    <img src="images/multi-az-deployment.png" alt="Multi-AZ Deployment Details">
</div>

---

A **Multi-AZ DB instance deployment** provides **high availability** by maintaining a **standby replica** in a different AZ. Amazon RDS automatically provisions and maintains this standby, offering **seamless failover**.

[reference](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Concepts.MultiAZSingleStandby.html)

âœ… **Availability:** **99.95% uptime**  
âœ… **Durability:** âœ… **Redundancy across Availability Zones**  
âœ… **Replication Type:** **ğŸŸ¥ Fully Synchronous Replication**  
âœ… **Endpoints:**

- **Write/Read Endpoint:** âœ… Primary instance
- **Standby Endpoint:** âŒ No direct access (not readable)

ğŸ“ **How It Works:**

- **AWS automatically provisions a standby instance** in another **AZ**.
- **Replication is fully synchronous**, meaning data is **committed to both the Primary and Standby** before acknowledgment to the application.
- If the **primary fails**, the **standby is promoted to primary** automatically.
- ğŸš« **The standby cannot serve read traffic**.

<div style="padding: 0 20px ;">
    <img src="images/multi-az-deployment-details.png" alt="Multi-AZ Deployment Details">
</div>

ğŸ” **Supported Technologies:**

- **Amazon failover technology** (for MariaDB, MySQL, Oracle, PostgreSQL, and RDS Custom for SQL Server).
- **Microsoft SQL Server** uses:

  - **Database Mirroring (DBM)**
  - **Always On Availability Groups (AGs)**

---

## ğŸš€ **3. Multi-AZ DB Cluster Deployment**

<div style="text-align:center;">
    <img src="images/multi-az-db-cluster-deployment.png" alt="Multi-AZ DB Cluster Deployment">
</div>

---

A **Multi-AZ DB cluster** includes a **primary DB instance with two readable standby instances** across different AZs. This setup improves **commit latency, failover time, and read capacity**.

[references](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/multi-az-db-clusters-concepts.html)

### âœ… **Key Features**

- **Faster failover** (under 35 seconds).
- **Two read-enabled standby instances**, reducing read traffic on primary DB.
- **Ideal for high-availability applications** requiring fast disaster recovery.

<div style="padding: 0 20px">
    <img src="images/multi-az-db-cluster-deployment-details.png" alt="Multi-AZ DB Cluster Deployment Details">
</div>

âœ… **Availability:** **99.95% uptime**  
âœ… **Durability:** âœ… **Redundancy across Availability Zones**  
âœ… **Replication Type:** **ğŸŸ¥ Semi-Synchronous Replication**
âœ… **Endpoints:**

- **Write/Read Endpoint:** âœ… Primary instance + SSD
- **Reader Endpoints:** âœ… Readable Standby + SSD (x2)

ğŸ“ **How It Works:**

- **Semi-synchronous replication**: Requires **acknowledgment from at least one reader DB instance** before a change is committed.
- **Does not require full execution and commit on all replicas** before proceeding.
- **Readable standbys** reduce read latency and **increase read throughput**.
- If failover occurs, **Amazon RDS promotes the reader instance** with the most recent changes.

ğŸ”— **Supported Engines:**

- âœ” **MySQL**
- âœ” **PostgreSQL**

---

## **ğŸ“Œ Summary of Replication Types for AWS RDS Deployment**

| **Deployment Option**                  | **Availability**  | **Durability**   | **Replication Type**                                                                         | **Read Replicas?** | **Failover?** | **Endpoints**                                                 |
| -------------------------------------- | ----------------- | ---------------- | -------------------------------------------------------------------------------------------- | ------------------ | ------------- | ------------------------------------------------------------- |
| **Single-AZ (1 instance)**             | **99.5% uptime**  | âŒ No redundancy | âŒ No replication                                                                            | âŒ No              | âŒ Manual     | âœ… Primary (Read/Write)                                       |
| **Multi-AZ DB Instance (2 instances)** | **99.95% uptime** | âœ… Redundant     | ğŸŸ¥ **Fully Synchronous (Primary â†’ Standby)**                                                 | âŒ No              | âœ… Automatic  | âœ… Primary (Read/Write)                                       |
| **Multi-AZ DB Cluster (3 instances)**  | **99.95% uptime** | âœ… Redundant     | ğŸŸ© **Semi-Synchronous (Primary â†’ Standby 1)** <br> ğŸŸ¦ **Asynchronous (Primary â†’ Standby 2)** | âœ… Yes (2)         | âœ… Automatic  | âœ… Primary (Read/Write) <br> âœ… Reader (x2 Readable Standbys) |

---

## âš¡ **4. Amazon Aurora Clusters**

Amazon **Aurora**, designed for **MySQL and PostgreSQL**, replicates data across multiple AZs **automatically** and supports **up to 15 read replicas**.

### âœ… **Key Features**

- **Up to 15 low-latency read replicas**.
- **Replication across multiple AZs** for high durability.
- **Aurora Serverless** option for dynamic scaling.

### ğŸ”— **Supported Engines:**

âœ” **Amazon Aurora (MySQL-Compatible)**  
âœ” **Amazon Aurora (PostgreSQL-Compatible)**

---

## ğŸ“– **5. Read Replicas (Horizontal Scaling)**

<div style="text-align:center;">
    <img src="images/read-replica-deployment.png" alt="Read Replica Deployment">
</div>

---

Read replicas allow **read-heavy workloads** to be distributed across multiple copies of the primary database, improving **performance and scalability**.

### âœ… **Key Features**

- **Asynchronous replication**, improving read performance.
- **Supports cross-region replication** for global applications.
- **Can be promoted** to a standalone database during failover.

### ğŸ”— **Supported Engines:**

âœ” **MySQL**  
âœ” **PostgreSQL**  
âœ” **MariaDB**  
âœ” **Oracle**  
âœ” **Amazon Aurora (MySQL-Compatible)**  
âœ” **Amazon Aurora (PostgreSQL-Compatible)**

> ğŸ’¡ Ms SQL Server does not support read replicas

---

## ğŸ¢ **6. RDS on Outposts (On-Premises RDS)**

**Amazon RDS on AWS Outposts** allows databases to run **on-premises** using AWS infrastructure, ensuring **low-latency connections** for on-prem apps.

### âœ… **Key Features**

- Provides **AWS-managed databases on-premises**.
- Ensures **low latency** for applications close to on-prem workloads.
- Uses **AWS Outposts infrastructure** for local data residency.

### ğŸ”— **Supported Engines:**

âœ” **MySQL**  
âœ” **PostgreSQL**  
âœ” **MariaDB**

---

## ğŸ”§ **7. RDS Custom (Full OS Access & Custom Configurations)**

**RDS Custom** offers deep control over the database OS and configurations, making it suitable for **legacy apps** requiring custom setup.

### âœ… **Key Features**

- **Full OS access** for custom configurations.
- Supports **third-party applications requiring database customization**.
- **Managed backups and monitoring by AWS**.

### ğŸ”— **Supported Engines:**

âœ” **Oracle**  
âœ” **Microsoft SQL Server**

---

Here's your updated section with the new question added:

---

## ğŸ¤” **Questions**

### â“ **If I choose Single-AZ deployment, can I add a standby instance later?**

âœ… **Yes, you can convert a Single-AZ deployment to Multi-AZ**, but you **cannot manually add a standby instance**. Instead, you must **modify your RDS instance** to enable Multi-AZ, which will create a synchronous standby in a different Availability Zone.

### â“ **Can I add a read replica for a Single-AZ deployment?**

âœ… **Yes, read replicas can be created from a Single-AZ deployment**. Read replicas use **asynchronous replication** and help distribute read traffic, improving performance for read-heavy applications.

### â“ **Are all read replicas also standby instances?**

ğŸš« **No, read replicas are not the same as standby instances in Multi-AZ deployments**.

- **Multi-AZ standby instances** are **synchronous replicas** used only for **failover** (not readable).
- **Read replicas** are **asynchronous replicas** that can **handle read queries** and **be promoted to primary if needed**.

### â“ **For Multi-AZ cluster deployments, are readable standby instances using synchronous or asynchronous replication with the primary?**

âœ… **In Multi-AZ cluster deployments, readable standby instances use asynchronous replication with the primary**. Unlike traditional Multi-AZ setups where the standby is purely for failover, Multi-AZ clusters provide **readable secondaries**, but they replicate data asynchronously.

### â“ **Can I deploy a Multi-AZ standby instance in a different region from the primary database?**

ğŸš« **No, Multi-AZ standby instances must be in the same AWS region as the primary database**, but they are located in a different Availability Zone for high availability and automatic failover.

âœ… **For cross-region redundancy, you can use cross-region read replicas**, which replicate data **asynchronously** and can be promoted to primary in case of failure.

## ğŸ¯ **Key Considerations When Choosing an RDS Deployment**

ğŸ”¹ **Need cost-effective storage?** â†’ **Single-AZ Deployment**.  
ğŸ”¹ **Need high availability?** â†’ **Multi-AZ DB Instance or Multi-AZ Cluster**.  
ğŸ”¹ **Scaling reads globally?** â†’ **Read Replicas**.  
ğŸ”¹ **Using AWS on-prem infrastructure?** â†’ **RDS on Outposts**.  
ğŸ”¹ **Requiring full OS access?** â†’ **RDS Custom**.

ğŸš€ **Choosing the right RDS deployment depends on your applicationâ€™s needs for failover, read performance, customization, and global reach!**
