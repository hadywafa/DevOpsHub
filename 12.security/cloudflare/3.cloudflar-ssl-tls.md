# ğŸ›¡ï¸ **Cloudflare TLS Modes**

**Cloudflare offers four TLS modesâ€”Off, Flexible, Full, and Full (Strict)â€”each controlling how HTTPS is handled between the browser, Cloudflare, and your origin server. The most secure and recommended mode is Full (Strict).**

Letâ€™s break down each mode with real-world examples and diagrams so you can confidently choose the right setup for your infrastructure.

---

## ğŸ” Cloudflare TLS Modes Explained

<div align="center" style="background-color: #141a19ff;color: #a8a5a5ff; border-radius: 10px; border: 2px solid">

| Mode              | Browser â†” Cloudflare | Cloudflare â†” Origin | Cert Required on Origin? | Use Case                                |
| ----------------- | -------------------- | ------------------- | ------------------------ | --------------------------------------- |
| **Off**           | âŒ No HTTPS          | âŒ No HTTPS         | âŒ                       | Rare, legacy HTTP-only sites            |
| **Flexible**      | âœ… HTTPS             | âŒ HTTP             | âŒ                       | Quick setup, insecure (not recommended) |
| **Full**          | âœ… HTTPS             | âœ… HTTPS            | âœ… Self-signed OK        | Better, but still vulnerable            |
| **Full (Strict)** | âœ… HTTPS             | âœ… HTTPS            | âœ… Valid CA-signed cert  | ğŸ”’ Best practice                        |

</div>

---

Sources: [Cloudflare Docs](https://developers.cloudflare.com/ssl/origin-configuration/ssl-modes/), [Verpex Guide](https://kb.verpex.com/docs/cloudflare-ssl-configuration-and-flexiblestrict-mode-which-to-use)

---

## ğŸ”¸ **1. Off (not secure)**

No encryption applied. Turning off SSL disables HTTPS and causes browsers to show a warning that your website is not secure.

<div align="center" style="background-color:#fff; border-radius: 10px; border: 2px solid">
 <img src="image/1762942671468.png" alt="Off Mode Example" style="width: 40%">
</div>

## ğŸ”¸ **2. Flexible Mode** (Not Recommended)

Enable encryption only between your visitors and Cloudflare. This avoids browser security warnings, but all connections between Cloudflare and your origin are made through HTTP.

- You register `example.com` and enable Cloudflare proxy.
- Cloudflare issues a free HTTPS cert for the browser.
- Your origin server only runs HTTP (no cert).
- **Problem**: Traffic between Cloudflare and your server is unencrypted.

<div align="center" style="background-color:#fff; border-radius: 10px; border: 2px solid">
 <img src="image/1762942682640.png" alt="Off Mode Example" style="width: 40%">
</div>

<div align="center" style="background-color: #141a19ff;color: #a8a5a5ff; border-radius: 10px; border: 2px solid">

```mermaid
sequenceDiagram
    participant Browser
    participant Cloudflare
    participant Origin (HTTP)

    Browser->>Cloudflare: HTTPS Request
    Cloudflare->>Origin: HTTP Request
    Origin-->>Cloudflare: HTTP Response
    Cloudflare-->>Browser: HTTPS Response
```

</div>

---

## ğŸ”¸ **3.Full Mode** (Self-Signed Cert OK)

Enable encryption end-to-end. Use this mode when your origin server supports SSL certification but does not use a valid, publicly trusted certificate.

- You install a self-signed cert on your origin server.
- Cloudflare accepts it and encrypts traffic both ways.
- **Risk**: No cert validationâ€”man-in-the-middle attacks are possible.

<div align="center" style="background-color:#fff; border-radius: 10px; border: 2px solid">
 <img src="image/1762942694936.png" alt="Off Mode Example" style="width: 40%">
</div>

<div align="center" style="background-color: #141a19ff;color: #a8a5a5ff; border-radius: 10px; border: 2px solid">

```mermaid
sequenceDiagram
    participant Browser
    participant Cloudflare
    participant Origin (Self-Signed TLS)

    Browser->>Cloudflare: HTTPS Request
    Cloudflare->>Origin: HTTPS Request
    Origin-->>Cloudflare: HTTPS Response
    Cloudflare-->>Browser: HTTPS Response
```

</div>

---

## ğŸ”¸ **4.Full (Strict) Mode** (Recommended)

(Recommended mode) Enable encryption end-to-end and enforce validation on origin certificates. Use Cloudflareâ€™s Origin CA to generate certificates for your origin.

- You install a valid cert (e.g. Letâ€™s Encrypt) on your origin.
- Cloudflare verifies the cert and encrypts all traffic.
- **Best for production**: ensures end-to-end TLS integrity.

<div align="center" style="background-color:#fff; border-radius: 10px; border: 2px solid">
 <img src="image/1762942706928.png" alt="Off Mode Example" style="width: 40%">
</div>

<div align="center" style="background-color: #141a19ff;color: #a8a5a5ff; border-radius: 10px; border: 2px solid">

```mermaid
sequenceDiagram
    participant Browser
    participant Cloudflare
    participant Origin (Valid TLS)

    Browser->>Cloudflare: HTTPS Request
    Cloudflare->>Origin: HTTPS Request
    Origin-->>Cloudflare: HTTPS Response
    Cloudflare-->>Browser: HTTPS Response
```

</div>

---

## ğŸ› ï¸ How to Set It Up

1. **Install a valid TLS cert** on your origin (Letâ€™s Encrypt is free).
2. In Cloudflare dashboard:
   - Go to **SSL/TLS â†’ Overview**
   - Choose **Full (Strict)** mode.
3. Optionally enable **Always Use HTTPS** and **Automatic HTTPS Rewrites**.

---

## ğŸ§  Pro Tips for Engineers

- Use [Origin CA certificates](https://developers.cloudflare.com/ssl/origin-configuration/origin-ca/) if you only serve traffic via Cloudflare. Theyâ€™re free and valid for 15 years.
- Test with `curl`:

  ```bash
  curl -I https://example.com --resolve example.com:443:<origin-ip>
  ```

- Monitor TLS handshake with `openssl s_client`:

  ```bash
  openssl s_client -connect example.com:443
  ```
