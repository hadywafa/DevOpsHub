# üîÑ **Amazon S3 Bucket Replication**

Amazon S3 **Bucket Replication** is an **asynchronous replication** feature at the bucket level that enables the automatic copying of objects from a source bucket to one or more destination buckets. This ensures data redundancy, enhances data availability, and supports compliance requirements by maintaining copies of your data across different AWS accounts and regions.

<div align="center" style="padding: 0 0">
  <img src="images/srr-crr.png" alt="S3 Bucket Replication">
</div>

---

## üåê **Overview of S3 Bucket Replication**

- **Asynchronous Replication:** Replicates objects from the source bucket to the destination bucket(s) without blocking the upload process.

- **Secure Data Transfer:** Utilizes **TLS/SSL** to encrypt replication data in transit, ensuring data security.

- **Cross-Account and Cross-Region Replication:**

  - **Same AWS Account:** Source and destination buckets can reside within the same AWS account.
  - **Different AWS Accounts:** Enables replication between buckets owned by different AWS accounts.
  - **Same Region (SRR):** Source and destination buckets are located within the same AWS region.
  - **Different Regions (CRR):** Source and destination buckets are located in different AWS regions.

- **Versioning Requirement:** Both source and destination buckets must have **versioning enabled** to support replication.

- **Selective Replication:** Ability to replicate all objects or a subset based on specific **prefixes**.

---

## ‚öôÔ∏è **Key Features of S3 Bucket Replication**

- **Multiple Destination Buckets:**

  - Configure the source bucket to replicate objects to **multiple destination buckets** by setting up multiple replication rules.

- **Replication of Pre-Existing Objects:**

  - Optionally copy existing objects in the source bucket to the destination bucket as a **one-time batch operation**.

- **IAM Role Requirement:**

  - S3 requires an **IAM role** with appropriate permissions to perform replication between buckets.

- **Replication Metrics and Notifications:**

  - Enable replication metrics and configure notifications to monitor replication status and performance via **Amazon CloudWatch**.

- **Replication of DELETE Markers:**
  - Optionally replicate **DELETE markers** to ensure that deletions in the source bucket are reflected in the destination bucket.

---

## ‚è±Ô∏è **Replication Time Control (RTC)**

- **Enhanced Replication Speed:**

  - **S3 Replication Time Control (RTC)** ensures that most objects are replicated within **seconds** and **99.99%** of objects within **15 minutes**, backed by a service-level agreement (SLA).

- **Use RTC for Critical Applications:**
  - Ideal for applications requiring near real-time replication to meet stringent recovery time objectives (RTOs).

---

## üîí **Replication Encryption**

- **Encrypted Objects in Source Bucket:**

  - **SSE-S3:** Objects encrypted with **Server-Side Encryption with S3-Managed Keys (SSE-S3)** are automatically replicated.
  - **SSE-KMS:** Objects encrypted with **Server-Side Encryption with AWS KMS-Managed Keys (SSE-KMS)** can be optionally replicated based on replication configuration.
  - **SSE-C:** Objects encrypted with **Server-Side Encryption with Customer-Provided Keys (SSE-C)** are **not** replicated.

- **Unencrypted Objects in Source Bucket:**
  - If the destination bucket has **default encryption** enabled, replicated objects will inherit the destination bucket's encryption settings.

---

## üìÇ **Use Cases**

### üîÑ **Same-Region Replication (SRR)**

- **Aggregating Log Data:**

  - Consolidate log data from multiple buckets into a single bucket for centralized analysis and monitoring.

- **Environment Replication:**

  - Replicate data between different environments (e.g., production and testing) within the same region to maintain consistency.

- **Data Sovereignty Compliance:**
  - Ensure critical data remains within the same region to comply with data sovereignty laws and regulations.

### üåç **Cross-Region Replication (CRR)**

- **Compliance Requirements:**

  - Store copies of data in geographically distant regions to meet regulatory compliance and disaster recovery objectives.

- **Latency Reduction:**

  - Place data closer to users or customers in different regions to minimize access latency and improve user experience.

- **Regional Data Processing:**
  - Enable data processing by compute clusters located in different AWS regions, facilitating distributed computing and analysis.

---

## üìù **Best Practices for S3 Bucket Replication**

1. **Enable Versioning:**

   - Ensure that both source and destination buckets have **versioning enabled** to support replication and maintain object history.

2. **Use IAM Roles Effectively:**

   - Create and manage IAM roles with **least privilege** permissions required for replication tasks to enhance security.

3. **Optimize Replication Rules:**

   - Define clear replication rules based on **prefixes** or **tags** to replicate only the necessary subset of objects, reducing costs and improving efficiency.

4. **Monitor Replication Status:**

   - Utilize replication metrics and **CloudWatch notifications** to monitor the health and performance of replication processes.

5. **Manage Replication of Encrypted Objects:**

   - Ensure that encryption settings in the destination bucket align with your security requirements and replication configuration.

6. **Automate Cleanup of Incomplete Replications:**

   - Implement **Lifecycle Policies** to clean up any incomplete or aborted replication tasks, preventing unnecessary storage usage.

7. **Test Replication Setup:**
   - Regularly test your replication setup to verify that objects are being replicated correctly and within the desired timeframes.
