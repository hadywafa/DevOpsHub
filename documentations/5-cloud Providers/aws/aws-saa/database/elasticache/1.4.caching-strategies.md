# Caching Strategies

## Lazy Loading

![caching-strategies-lazy-loading](images/caching-strategies-lazy-loading.png)

The application first tries to read from the cache.

- If found (cache hit), the data is read.
- If not found or expired (cache miss), the application queries the database.
- The application then writes the read data to the cache.

**Pros:**

- Only requested data is cached.

**Cons:**

- Cached data may become stale.
- Cache miss penalty (more trips to get the data)

## Write Through

![caching-strategies-write-through](images/caching-strategies-write-through.png)

The write-through strategy adds data or updates data in the cache whenever data is written to the database.

**Pros:**

- Data in the cache is never stale.

**Cons:**

- Every write involves two trips.
- Cache churn: Cached data may never be used.
- Missing data in new cache nodes (they start empty)

## Adding TTL

![caching-strategies-adding-ttl](images/caching-strategies-adding-ttl.png)

Adds a Time to Live value to each write in the cache, so the data wonâ€™t get too stale like in lazy loading.

**Pros:**

- Data in the cache is not stale.
- Avoids loading all the data to the cache
