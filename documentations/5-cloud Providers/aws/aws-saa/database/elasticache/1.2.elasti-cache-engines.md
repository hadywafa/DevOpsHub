# ElastiCache Engines

Amazon ElastiCache supports two caching engines:

- Redis – is the fastest NoSQL DB and can be used as a database or a data store.
- Memcached - which is not a data store or a database, only a cache.

## Amazon Elasticache for MemCache

Memcached is not persistent; therefore, it can only be used as a cache (not a data store).

- Data is distributed across cluster nodes.
- If a node fails, its cached data is lost.
- No support for snapshots.
- No support for failover or replication.
- We can distribute the nodes across multiple AZs to minimize the impact of any issues in an AZ.
- It is ideal as a front-end cache for RDS or other data stores.

### Use Cases

- Cache contents of a DB.
- Cache data from dynamically generated webpages.
- Transient session data, and
- High frequency counters for admission control in high volume web Apps.

## Amazon Elasticache for Redis

Elasticache for Redis is a fast, in-memory, cache and data store.

- It supports Multi-AZ through a primary node and up to 5 replicas in the same AWS region.
- Asynchronous replication from the primary to the read replicas.
- Redis is persistent. It supports manual and automated snapshots (stored in S3).
- Elasticache automated backups are enabled by default. Retention period is 1 day by default (up to 35 days)
- We can enable automatic failover to one of the read replicas if the primary fails.
- We can copy snapshots to a different AWS region to create a new cluster.
- Elasticache for Redis support Application auto scaling to scale the cluster automatically.

### Use Cases

- Web.
- Mobile Apps.
- Healthcare Apps.
- Financial Apps.
- Gaming – leaderboards (Redis
- orted Sets).
- Redis Messaging (pub/sub like SNS)
- Ad-Tech.
- IoT.

## ElastiCache vs. DynamoDB - When To Use What?

`ElastiCache provides micro-second latency.`

**Use ElastiCache – Memcached:** for key-value caching.

- No Persistence and no durability.
- No replication or Multi-AZ Read Replicas

---

**Use ElastiCache Redis:** for Key-value caching and in-memory data structures.

- Persistent.
- Supports snapshots to recover to new cluster.
- Supports Multi-AZ replication to Read Replicas

---

**Use DynamoDB:**

- Use for storing and indexing key-values and documents.
- Is durable (3x storage of data across AZs). DynamoDB is a better option if durability of the cache is a top priority.
- Provides single millisecond latency at any scale.
- Automatic scaling with no downtime.

## Secure Access & Encryption

- ElastiCache for Redis and Memcached support encryption in-transit using TLS/SSL communication (needs to be enabled).
- Redis supports encryption at rest using KMS keys (needs to be enabled).
- IAM DB Authentication is not supported with ElastiCache.
- **Using Redis AUTH feature to authenticate clients:** When enabled, Redis servers will require that clients enter an authentication token (password configured on Redis) before they can execute commands
