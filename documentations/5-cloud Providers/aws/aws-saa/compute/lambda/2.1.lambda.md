# AWS Lambda

AWS Lambda is a compute service that allows customers to run code without provisioning or managing servers.

- Customers need to supply the code and AWS Lambda will run it on the required compute.
- As/when required, AWS Lambda runs the code on a `highly available` compute infrastructure.
- AWS Lambda `scales automatically` to thousands of requests per second.
- Customers only pay for the compute time used (when the function runs)

---

A function is an AWS Lambda resource that we can invoke to run the supplied code.

- A Lambda function has the required code, plus any libraries or binaries required to
  process the events that applications or other AWS services pass to the function.

## Shared Responsibility Model

AWS (AWS Lambda service) handles the administration of the required compute
resources including:

- Maintenance of compute and operating system resources.
- Auto scaling.
- Capacity provisioning.
- Monitoring and logging.The customer is responsible for:
- Supplying the application/code.
- Creating application versions (changing/updating the code).

AWS Customers do not have access to the underlying compute resources used by AWS Lambda.

## Memory Configuration

To configure a Lambda function, we can specify the memory required for the function

- The `Default is 128MB`, Max 10,240 MB in 1-MB increments.
- Ephemeral (/tmp) storage of `512MB (default)` to 10240MB.
- AWS Lambda will calculate and allocate the CPU required accordingly.
- The more memory we specify, the more CPU gets allocated to the function

## Execution Timeout Configuration

to configure a Lambda function, we can specify (or leave the default):

- Maximum execution time - `Default is 3 seconds`; maximum is 900 seconds.
  - When reached, the Lambda function gets terminated.
- Lambda functions are not suitable for long-running workflows

## Pricing

- Requests : \$0.20 per 1M requests.
- Duration : \$0.0000166667 for every GB-Second.
- Free tier : 1M requests and 400,000 GB-Sec free per month.

**Example:** A Lambda function with 30M requests/month, 512MB memory, 6 minutes
execution time will cost
~\$90,000/month

**Warning:**

- The higher the memory and execution timeout are, the higher the cost.
  - Lambda functions are not meant to run for long running workflows/applications as the cost will be very high.

**Pricing Calculator:**

[Pricing Calculator](https://s3.amazonaws.com/lambda-tools/pricing-calculator.html)
